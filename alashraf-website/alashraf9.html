<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الأشراف - متجر الإلكترونيات</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Tajawal', sans-serif;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: #212529;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header Styles */
        header {
            background: linear-gradient(135deg, #0d1b2a 0%, #1b263b 100%);
            color: white;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo-icon {
            font-size: 2.2rem;
            color: #4cc9f0;
        }
        
        .logo-text {
            font-size: 1.8rem;
            font-weight: 800;
            background: linear-gradient(45deg, #4cc9f0, #4361ee);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 2rem;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            font-size: 1.1rem;
            transition: color 0.3s ease;
            position: relative;
        }
        
        nav a:hover {
            color: #4cc9f0;
        }
        
        nav a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: #4cc9f0;
            transition: width 0.3s ease;
        }
        
        nav a:hover::after {
            width: 100%;
        }
        
        .header-icons {
            display: flex;
            gap: 1.5rem;
            align-items: center;
        }
        
        .icon-btn {
            color: white;
            font-size: 1.4rem;
            position: relative;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        
        .icon-btn:hover {
            color: #4cc9f0;
        }
        
        .cart-count, .wishlist-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #f72585;
            color: white;
            font-size: 0.7rem;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Search Bar */
        .search-container {
            position: relative;
            display: flex;
            align-items: center;
        }
        
        .search-bar {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 30px;
            padding: 8px 15px 8px 40px;
            color: white;
            width: 200px;
            transition: all 0.3s ease;
        }
        
        .search-bar::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }
        
        .search-bar:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.2);
            width: 250px;
        }
        
        .search-icon {
            position: absolute;
            right: 15px;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .search-results {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            width: 100%;
            max-height: 300px;
            overflow-y: auto;
            z-index: 1100;
            display: none;
        }
        
        .search-results.active {
            display: block;
        }
        
        .search-result-item {
            padding: 10px 15px;
            border-bottom: 1px solid #e9ecef;
            cursor: pointer;
            transition: background 0.2s ease;
        }
        
        .search-result-item:hover {
            background: #f8f9fa;
        }
        
        .search-result-item:last-child {
            border-bottom: none;
        }
        
        .search-result-name {
            color: #0d1b2a;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .search-result-price {
            color: #4361ee;
            font-weight: 700;
            font-size: 0.85rem;
        }
        
        /* User Profile Dropdown */
        .user-profile {
            position: relative;
        }
        
        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(45deg, #4cc9f0, #4361ee);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            cursor: pointer;
        }
        
        .profile-dropdown {
            position: absolute;
            top: 50px;
            right: 0;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            width: 220px;
            z-index: 1100;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }
        
        .profile-dropdown.open {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        .profile-header {
            padding: 1rem;
            border-bottom: 1px solid #e9ecef;
            text-align: center;
        }
        
        .profile-header h4 {
            font-size: 1rem;
            color: #0d1b2a;
            margin-bottom: 0.2rem;
        }
        
        .profile-header p {
            color: #6c757d;
            font-size: 0.8rem;
        }
        
        .profile-links {
            padding: 0.6rem 1rem;
        }
        
        .profile-links a {
            display: block;
            padding: 0.6rem 0;
            color: #0d1b2a;
            text-decoration: none;
            transition: color 0.2s ease;
            border-bottom: 1px solid #f8f9fa;
            font-size: 0.9rem;
        }
        
        .profile-links a:last-child {
            border-bottom: none;
        }
        
        .profile-links a:hover {
            color: #4361ee;
        }
        
        .profile-links a i {
            margin-right: 0.6rem;
            color: #4361ee;
            font-size: 0.9rem;
        }
        
        /* Auth Modals - Medium Size */
        .auth-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 3000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .auth-modal.open {
            opacity: 1;
            visibility: visible;
        }
        
        .auth-content {
            background: white;
            border-radius: 16px;
            width: 90%;
            max-width: 400px; /* Medium size */
            padding: 2rem;
            position: relative;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }
        
        .auth-modal.open .auth-content {
            transform: scale(1);
        }
        
        .close-auth {
            position: absolute;
            top: 1.2rem;
            right: 1.2rem;
            background: none;
            border: none;
            font-size: 1.3rem;
            color: #6c757d;
            cursor: pointer;
        }
        
        .auth-header {
            text-align: center;
            margin-bottom: 1.5rem;
        }
        
        .auth-header h2 {
            font-size: 1.5rem;
            color: #0d1b2a;
            margin-bottom: 0.4rem;
        }
        
        .auth-header p {
            color: #6c757d;
            font-size: 0.9rem;
        }
        
        .auth-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.4rem;
        }
        
        .form-group label {
            font-weight: 600;
            color: #0d1b2a;
            font-size: 0.9rem;
        }
        
        .form-group input {
            padding: 10px 14px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-family: 'Tajawal', sans-serif;
            font-size: 0.95rem;
            transition: border-color 0.3s ease;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: #4361ee;
        }
        
        .auth-btn {
            padding: 12px;
            background: linear-gradient(45deg, #4361ee, #4cc9f0);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        
        .auth-btn:hover {
            transform: translateY(-2px);
        }
        
        .switch-form {
            text-align: center;
            color: #6c757d;
            font-size: 0.9rem;
        }
        
        .switch-form a {
            color: #4361ee;
            text-decoration: none;
            font-weight: 600;
        }
        
        .divider {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            margin: 1.2rem 0;
        }
        
        .divider::before,
        .divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: #e9ecef;
        }
        
        .social-login {
            display: flex;
            gap: 0.8rem;
            flex-direction: column;
        }
        
        .social-btn {
            padding: 10px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.6rem;
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .social-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .google-btn {
            color: #db4437;
        }
        
        .phone-btn {
            color: #25d366;
        }
        
        /* SMS Verification Modal - Medium Size */
        .sms-verification-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 3500;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .sms-verification-modal.open {
            opacity: 1;
            visibility: visible;
        }
        
        .sms-verification-content {
            background: white;
            border-radius: 16px;
            width: 90%;
            max-width: 380px; /* Medium size */
            padding: 2rem;
            position: relative;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }
        
        .sms-verification-modal.open .sms-verification-content {
            transform: scale(1);
        }
        
        .sms-verification-header {
            text-align: center;
            margin-bottom: 1.2rem;
        }
        
        .sms-verification-header h3 {
            font-size: 1.3rem;
            color: #0d1b2a;
            margin-bottom: 0.4rem;
        }
        
        .sms-verification-header p {
            color: #6c757d;
            font-size: 0.85rem;
        }
        
        .sms-verification-code {
            display: flex;
            justify-content: center;
            gap: 0.4rem;
            margin: 1.2rem 0;
        }
        
        .code-input {
            width: 42px;
            height: 42px;
            text-align: center;
            font-size: 1rem;
            font-weight: bold;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            outline: none;
            font-size: 1.1rem;
        }
        
        .code-input:focus {
            border-color: #4361ee;
        }
        
        .resend-code {
            text-align: center;
            margin-top: 0.8rem;
        }
        
        .resend-code button {
            background: none;
            border: none;
            color: #4361ee;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
        }
        
        /* Shopping Cart Modal */
        .cart-modal, .wishlist-modal {
            position: fixed;
            top: 0;
            right: -350px;
            width: 320px; /* Medium size */
            height: 100vh;
            background: white;
            box-shadow: -5px 0 25px rgba(0,0,0,0.2);
            z-index: 2000;
            transition: right 0.3s ease;
            overflow-y: auto;
        }
        
        .cart-modal.open, .wishlist-modal.open {
            right: 0;
        }
        
        .cart-header, .wishlist-header {
            background: linear-gradient(135deg, #0d1b2a 0%, #1b263b 100%);
            color: white;
            padding: 1.2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .cart-header h3, .wishlist-header h3 {
            font-size: 1.2rem;
        }
        
        .close-cart, .close-wishlist {
            background: none;
            border: none;
            color: white;
            font-size: 1.3rem;
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        
        .close-cart:hover, .close-wishlist:hover {
            transform: rotate(90deg);
        }
        
        .cart-items, .wishlist-items {
            padding: 1.2rem;
        }
        
        .cart-item, .wishlist-item {
            display: flex;
            gap: 0.8rem;
            padding: 0.8rem 0;
            border-bottom: 1px solid #e9ecef;
        }
        
        .cart-item-image, .wishlist-item-image {
            width: 50px;
            height: 50px;
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
            background-color: #f8f9fa;
            border-radius: 6px;
        }
        
        .cart-item-info, .wishlist-item-info {
            flex: 1;
        }
        
        .cart-item-name, .wishlist-item-name {
            font-weight: 600;
            color: #0d1b2a;
            margin-bottom: 0.2rem;
            font-size: 0.95rem;
        }
        
        .cart-item-price, .wishlist-item-price {
            color: #4361ee;
            font-weight: 700;
            font-size: 1rem;
        }
        
        .cart-item-quantity {
            display: flex;
            align-items: center;
            gap: 0.4rem;
            margin-top: 0.4rem;
        }
        
        .quantity-btn {
            width: 22px;
            height: 22px;
            border: 1px solid #4361ee;
            background: white;
            color: #4361ee;
            border-radius: 3px;
            cursor: pointer;
            font-size: 0.7rem;
        }
        
        .quantity-value {
            min-width: 18px;
            text-align: center;
            font-size: 0.85rem;
        }
        
        .remove-item, .remove-wishlist {
            color: #f72585;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 0.8rem;
            margin-top: 0.4rem;
        }
        
        .cart-footer {
            padding: 1.2rem;
            border-top: 2px solid #e9ecef;
            background: #f8f9fa;
        }
        
        .cart-total {
            display: flex;
            justify-content: space-between;
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 1.2rem;
            color: #0d1b2a;
        }
        
        .checkout-btn {
            width: 100%;
            padding: 10px;
            background: linear-gradient(45deg, #4cc9f0, #4361ee);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        
        .checkout-btn:hover {
            transform: translateY(-2px);
        }
        
        .empty-cart, .empty-wishlist {
            text-align: center;
            padding: 1.5rem;
            color: #6c757d;
        }
        
        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1500;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        /* Hero Section */
        .hero {
            padding: 4rem 0;
            text-align: center;
            background: linear-gradient(135deg, #0d1b2a 0%, #1b263b 100%);
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><circle cx="20" cy="20" r="2" fill="rgba(76,201,240,0.1)"/><circle cx="80" cy="30" r="3" fill="rgba(76,201,240,0.1)"/><circle cx="50" cy="70" r="2" fill="rgba(76,201,240,0.1)"/><circle cx="30" cy="80" r="1" fill="rgba(76,201,240,0.1)"/></svg>');
            opacity: 0.3;
        }
        
        .hero-content {
            position: relative;
            z-index: 2;
            max-width: 700px;
            margin: 0 auto;
        }
        
        .hero h1 {
            font-size: 2.8rem;
            margin-bottom: 1rem;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .hero p {
            font-size: 1.1rem;
            color: #caf0f8;
            margin-bottom: 1.5rem;
            line-height: 1.7;
        }
        
        .hero-buttons {
            display: flex;
            gap: 0.8rem;
            justify-content: center;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 28px;
            border-radius: 40px;
            text-decoration: none;
            font-weight: 700;
            font-size: 1rem;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            text-align: center;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, #4cc9f0, #4361ee);
            color: white;
            box-shadow: 0 6px 20px rgba(76, 201, 240, 0.4);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(76, 201, 240, 0.6);
        }
        
        .btn-secondary {
            background: transparent;
            color: white;
            border: 2px solid #4cc9f0;
        }
        
        .btn-secondary:hover {
            background: rgba(76, 201, 240, 0.1);
            transform: translateY(-2px);
        }
        
        /* Categories Section */
        .section {
            padding: 4rem 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 2.5rem;
        }
        
        .section-title h2 {
            font-size: 2.2rem;
            color: #0d1b2a;
            margin-bottom: 0.8rem;
            position: relative;
            display: inline-block;
        }
        
        .section-title h2::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: linear-gradient(45deg, #4cc9f0, #4361ee);
            border-radius: 2px;
        }
        
        .section-title p {
            color: #6c757d;
            font-size: 1rem;
            max-width: 500px;
            margin: 15px auto 0;
        }
        
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 1.5rem;
            text-align: center;
        }
        
        .category-card {
            background: white;
            padding: 1.5rem 1rem;
            border-radius: 16px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .category-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(76, 201, 240, 0.2);
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        }
        
        .category-icon {
            font-size: 2rem;
            margin-bottom: 0.8rem;
            color: #4361ee;
        }
        
        .category-card h3 {
            font-size: 1rem;
            color: #0d1b2a;
            font-weight: 600;
        }
        
        /* Filter Section */
        .filter-section {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .filter-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .filter-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #0d1b2a;
        }
        
        .filter-toggle {
            background: none;
            border: none;
            color: #4361ee;
            font-size: 0.9rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .filter-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }
        
        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .filter-group h4 {
            font-size: 1rem;
            color: #0d1b2a;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        
        .filter-option {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .filter-option input {
            accent-color: #4361ee;
        }
        
        .filter-option label {
            font-size: 0.9rem;
            color: #495057;
            cursor: pointer;
        }
        
        .price-range {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .price-input {
            width: 80px;
            padding: 5px 10px;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            font-size: 0.9rem;
        }
        
        .filter-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        .apply-filter, .reset-filter {
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
        }
        
        .apply-filter {
            background: linear-gradient(45deg, #4cc9f0, #4361ee);
            color: white;
        }
        
        .reset-filter {
            background: #f8f9fa;
            color: #495057;
            border: 1px solid #e9ecef;
        }
        
        .apply-filter:hover, .reset-filter:hover {
            transform: translateY(-2px);
        }
        
        /* Sort Section */
        .sort-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .results-count {
            color: #6c757d;
            font-size: 0.9rem;
        }
        
        .sort-dropdown {
            position: relative;
        }
        
        .sort-button {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 8px 15px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            font-size: 0.9rem;
            color: #495057;
        }
        
        .sort-options {
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            width: 100%;
            z-index: 100;
            display: none;
        }
        
        .sort-options.active {
            display: block;
        }
        
        .sort-option {
            padding: 8px 15px;
            cursor: pointer;
            transition: background 0.2s ease;
            font-size: 0.9rem;
            color: #495057;
        }
        
        .sort-option:hover {
            background: #f8f9fa;
        }
        
        .sort-option.active {
            background: #e9ecef;
            color: #4361ee;
            font-weight: 600;
        }
        
        /* Products Section */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }
        
        .product-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            transition: all 0.3s ease;
            position: relative;
        }
        
        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(76, 201, 240, 0.3);
        }
        
        .product-badge {
            position: absolute;
            top: 12px;
            right: 12px;
            background: linear-gradient(45deg, #f72585, #b5179e);
            color: white;
            padding: 4px 10px;
            border-radius: 16px;
            font-size: 0.7rem;
            font-weight: 600;
            z-index: 2;
        }
        
        .product-image {
            height: 200px;
            width: 100%;
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
            background-color: #f8f9fa;
            position: relative;
            overflow: hidden;
        }
        
        .product-quick-view {
            position: absolute;
            bottom: -40px;
            left: 0;
            right: 0;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 8px;
            text-align: center;
            font-size: 0.9rem;
            cursor: pointer;
            transition: bottom 0.3s ease;
        }
        
        .product-card:hover .product-quick-view {
            bottom: 0;
        }
        
        .product-info {
            padding: 1.2rem;
        }
        
        .product-brand {
            color: #6c757d;
            font-size: 0.85rem;
            margin-bottom: 0.4rem;
        }
        
        .product-info h3 {
            font-size: 1.1rem;
            margin-bottom: 0.6rem;
            color: #0d1b2a;
            font-weight: 600;
        }
        
        .product-rating {
            color: #ffc107;
            margin-bottom: 0.6rem;
            font-size: 0.85rem;
        }
        
        .product-price {
            display: flex;
            align-items: center;
            gap: 0.4rem;
            margin-bottom: 0.8rem;
        }
        
        .current-price {
            font-size: 1.2rem;
            font-weight: 700;
            color: #4361ee;
        }
        
        .original-price {
            font-size: 0.9rem;
            color: #6c757d;
            text-decoration: line-through;
        }
        
        .product-actions {
            display: flex;
            gap: 0.6rem;
        }
        
        .add-to-cart {
            flex: 1;
            background: linear-gradient(45deg, #4cc9f0, #4361ee);
            color: white;
            padding: 8px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .add-to-cart:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(76, 201, 240, 0.4);
        }
        
        .wishlist-btn {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            border: 2px solid #e9ecef;
            background: white;
            color: #6c757d;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .wishlist-btn:hover, .wishlist-btn.active {
            background: #ffafcc;
            color: #f72585;
            border-color: #ffafcc;
        }
        
        .compare-btn {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            border: 2px solid #e9ecef;
            background: white;
            color: #6c757d;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .compare-btn:hover, .compare-btn.active {
            background: #e9ecef;
            color: #4361ee;
            border-color: #4361ee;
        }
        
        /* Product Detail Modal */
        .product-detail-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 4000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .product-detail-modal.open {
            opacity: 1;
            visibility: visible;
        }
        
        .product-detail-content {
            background: white;
            border-radius: 16px;
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }
        
        .product-detail-modal.open .product-detail-content {
            transform: scale(1);
        }
        
        .close-product-detail {
            position: absolute;
            top: 1.2rem;
            right: 1.2rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #6c757d;
            cursor: pointer;
            z-index: 10;
        }
        
        .product-detail-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            padding: 2rem;
        }
        
        .product-detail-image {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .main-image {
            height: 400px;
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
            background-color: #f8f9fa;
            border-radius: 12px;
        }
        
        .thumbnail-images {
            display: flex;
            gap: 0.5rem;
        }
        
        .thumbnail {
            width: 80px;
            height: 80px;
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
            background-color: #f8f9fa;
            border-radius: 8px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.2s ease;
        }
        
        .thumbnail.active {
            border-color: #4361ee;
        }
        
        .product-detail-info {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .product-detail-brand {
            color: #6c757d;
            font-size: 0.9rem;
        }
        
        .product-detail-title {
            font-size: 1.8rem;
            color: #0d1b2a;
            font-weight: 700;
        }
        
        .product-detail-rating {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .product-detail-price {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }
        
        .product-detail-current-price {
            font-size: 1.8rem;
            font-weight: 700;
            color: #4361ee;
        }
        
        .product-detail-original-price {
            font-size: 1.2rem;
            color: #6c757d;
            text-decoration: line-through;
        }
        
        .product-detail-discount {
            background: #f72585;
            color: white;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .product-detail-description {
            color: #495057;
            line-height: 1.6;
        }
        
        .product-detail-features {
            list-style: none;
        }
        
        .product-detail-features li {
            padding: 0.5rem 0;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .product-detail-features li:last-child {
            border-bottom: none;
        }
        
        .product-detail-features i {
            color: #4361ee;
        }
        
        .product-detail-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .add-to-cart-detail {
            flex: 1;
            padding: 12px;
            background: linear-gradient(45deg, #4cc9f0, #4361ee);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .add-to-cart-detail:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(76, 201, 240, 0.4);
        }
        
        .wishlist-detail, .compare-detail {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            border: 2px solid #e9ecef;
            background: white;
            color: #6c757d;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .wishlist-detail:hover, .wishlist-detail.active {
            background: #ffafcc;
            color: #f72585;
            border-color: #ffafcc;
        }
        
        .compare-detail:hover, .compare-detail.active {
            background: #e9ecef;
            color: #4361ee;
            border-color: #4361ee;
        }
        
        .product-detail-tabs {
            margin-top: 2rem;
        }
        
        .tab-buttons {
            display: flex;
            border-bottom: 1px solid #e9ecef;
        }
        
        .tab-button {
            padding: 10px 20px;
            background: none;
            border: none;
            color: #6c757d;
            font-weight: 600;
            cursor: pointer;
            position: relative;
            transition: color 0.3s ease;
        }
        
        .tab-button.active {
            color: #4361ee;
        }
        
        .tab-button.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            right: 0;
            height: 2px;
            background: #4361ee;
        }
        
        .tab-content {
            padding: 1.5rem 0;
        }
        
        .tab-pane {
            display: none;
        }
        
        .tab-pane.active {
            display: block;
        }
        
        .reviews-container {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .review-summary {
            display: flex;
            gap: 2rem;
            align-items: center;
        }
        
        .review-average {
            text-align: center;
        }
        
        .review-average-score {
            font-size: 2.5rem;
            font-weight: 700;
            color: #4361ee;
        }
        
        .review-average-stars {
            color: #ffc107;
            font-size: 1.2rem;
            margin: 0.5rem 0;
        }
        
        .review-average-count {
            color: #6c757d;
            font-size: 0.9rem;
        }
        
        .review-bars {
            flex: 1;
        }
        
        .review-bar {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }
        
        .review-bar-label {
            width: 60px;
            text-align: left;
            font-size: 0.9rem;
        }
        
        .review-bar-track {
            flex: 1;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .review-bar-fill {
            height: 100%;
            background: #ffc107;
        }
        
        .review-bar-count {
            width: 30px;
            text-align: left;
            font-size: 0.8rem;
            color: #6c757d;
        }
        
        .review-item {
            padding: 1rem 0;
            border-bottom: 1px solid #e9ecef;
        }
        
        .review-item:last-child {
            border-bottom: none;
        }
        
        .review-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }
        
        .reviewer-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .reviewer-avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6c757d;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .reviewer-name {
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .review-date {
            color: #6c757d;
            font-size: 0.8rem;
        }
        
        .review-rating {
            color: #ffc107;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        
        .review-text {
            color: #495057;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .write-review {
            margin-top: 1.5rem;
            padding: 1.5rem;
            background: #f8f9fa;
            border-radius: 12px;
        }
        
        .write-review h4 {
            margin-bottom: 1rem;
            color: #0d1b2a;
        }
        
        .rating-input {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .rating-star {
            font-size: 1.5rem;
            color: #e9ecef;
            cursor: pointer;
            transition: color 0.2s ease;
        }
        
        .rating-star:hover,
        .rating-star.active {
            color: #ffc107;
        }
        
        .review-textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            font-family: 'Tajawal', sans-serif;
            font-size: 0.9rem;
            resize: vertical;
            min-height: 100px;
        }
        
        .submit-review {
            margin-top: 1rem;
            padding: 10px 20px;
            background: linear-gradient(45deg, #4cc9f0, #4361ee);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .submit-review:hover {
            transform: translateY(-2px);
        }
        
        /* Compare Section */
        .compare-section {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .compare-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .compare-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #0d1b2a;
        }
        
        .compare-count {
            background: #4361ee;
            color: white;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .compare-items {
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            padding-bottom: 1rem;
        }
        
        .compare-item {
            min-width: 200px;
            background: #f8f9fa;
            border-radius: 12px;
            padding: 1rem;
            position: relative;
        }
        
        .compare-item-image {
            height: 120px;
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
            background-color: white;
            border-radius: 8px;
            margin-bottom: 0.5rem;
        }
        
        .compare-item-name {
            font-weight: 600;
            color: #0d1b2a;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }
        
        .compare-item-price {
            color: #4361ee;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        
        .remove-compare {
            position: absolute;
            top: 0.5rem;
            left: 0.5rem;
            background: #f72585;
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 0.7rem;
        }
        
        .compare-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .compare-button {
            flex: 1;
            padding: 10px;
            background: linear-gradient(45deg, #4cc9f0, #4361ee);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .compare-button:hover {
            transform: translateY(-2px);
        }
        
        .clear-compare {
            padding: 10px;
            background: #f8f9fa;
            color: #495057;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .clear-compare:hover {
            transform: translateY(-2px);
        }
        
        /* Footer */
        footer {
            background: linear-gradient(135deg, #1b263b 0%, #0d1b2a 100%);
            color: white;
            padding: 3rem 0 1.5rem;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 2rem;
            margin-bottom: 1.5rem;
        }
        
        .footer-column h3 {
            font-size: 1.2rem;
            margin-bottom: 1.2rem;
            color: #4cc9f0;
            position: relative;
            padding-bottom: 8px;
        }
        
        .footer-column h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 30px;
            height: 2px;
            background: #4cc9f0;
        }
        
        .footer-column p,
        .footer-column a {
            color: #caf0f8;
            text-decoration: none;
            margin-bottom: 0.6rem;
            display: block;
            transition: color 0.3s ease;
            font-size: 0.9rem;
        }
        
        .footer-column a:hover {
            color: #4cc9f0;
        }
        
        .contact-info {
            display: flex;
            align-items: flex-start;
            gap: 0.8rem;
            margin-bottom: 0.6rem;
        }
        
        .contact-icon {
            color: #4cc9f0;
            font-size: 1rem;
            margin-top: 2px;
        }
        
        .social-links {
            display: flex;
            gap: 0.8rem;
            margin-top: 1rem;
        }
        
        .social-link {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 35px;
            height: 35px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .social-link:hover {
            background: #4cc9f0;
            transform: translateY(-2px);
        }
        
        .copyright {
            text-align: center;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #caf0f8;
            font-size: 0.85rem;
        }
        
        /* Notification Toast */
        .notification-toast {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            padding: 1rem 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            transform: translateX(-400px);
            transition: transform 0.3s ease;
            z-index: 5000;
        }
        
        .notification-toast.show {
            transform: translateX(0);
        }
        
        .notification-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }
        
        .notification-icon.success {
            background: rgba(74, 222, 128, 0.2);
            color: #22c55e;
        }
        
        .notification-icon.error {
            background: rgba(244, 63, 94, 0.2);
            color: #f43f5e;
        }
        
        .notification-icon.info {
            background: rgba(67, 97, 238, 0.2);
            color: #4361ee;
        }
        
        .notification-content {
            flex: 1;
        }
        
        .notification-title {
            font-weight: 600;
            color: #0d1b2a;
            margin-bottom: 0.2rem;
        }
        
        .notification-message {
            color: #6c757d;
            font-size: 0.9rem;
        }
        
        .notification-close {
            background: none;
            border: none;
            color: #6c757d;
            cursor: pointer;
            font-size: 1.2rem;
        }
        
        /* Loading Spinner */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Responsive Design */
        @media (max-width: 992px) {
            .product-detail-container {
                grid-template-columns: 1fr;
            }
            
            .main-image {
                height: 300px;
            }
        }
        
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 0.8rem;
            }
            
            nav ul {
                gap: 1rem;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .hero h1 {
                font-size: 2.2rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 250px;
            }
            
            .cart-modal, .wishlist-modal {
                width: 280px;
            }
            
            .profile-dropdown {
                width: 200px;
            }
            
            .filter-content {
                grid-template-columns: 1fr;
            }
            
            .compare-items {
                flex-direction: column;
            }
            
            .compare-item {
                min-width: auto;
            }
        }
        
        @media (max-width: 480px) {
            .hero h1 {
                font-size: 1.8rem;
            }
            
            .section-title h2 {
                font-size: 1.8rem;
            }
            
            .header-icons {
                gap: 1rem;
            }
            
            .icon-btn {
                font-size: 1.2rem;
            }
            
            .auth-content, .sms-verification-content {
                padding: 1.5rem;
                margin: 1rem;
                max-width: 350px;
            }
            
            .categories-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .product-detail-content {
                width: 95%;
                max-height: 95vh;
            }
            
            .product-detail-container {
                padding: 1rem;
            }
            
            .main-image {
                height: 200px;
            }
            
            .thumbnail {
                width: 60px;
                height: 60px;
            }
            
            .review-summary {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-content">
            <div class="logo">
                <i class="fas fa-microchip logo-icon"></i>
                <span class="logo-text">الأشراف</span>
            </div>
            <nav>
                <ul>
                    <li><a href="#home">الرئيسية</a></li>
                    <li><a href="#products">المنتجات</a></li>
                    <li><a href="#categories">الفئات</a></li>
                    <li><a href="#contact">اتصل بنا</a></li>
                </ul>
            </nav>
            <div class="header-icons">
                <div class="search-container">
                    <input type="text" class="search-bar" id="search-bar" placeholder="ابحث عن منتج...">
                    <i class="fas fa-search search-icon"></i>
                    <div class="search-results" id="search-results"></div>
                </div>
                <div class="user-profile" id="user-profile">
                    <div class="user-avatar" id="user-avatar">ض</div>
                    <div class="profile-dropdown" id="profile-dropdown">
                        <div class="profile-header">
                            <h4>تسجيل الدخول</h4>
                            <p>للوصول إلى حسابك</p>
                        </div>
                        <div class="profile-links">
                            <a href="#" id="login-link"><i class="fas fa-sign-in-alt"></i> تسجيل الدخول</a>
                        </div>
                    </div>
                </div>
                <div class="icon-btn" id="cart-icon">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count">0</span>
                </div>
                <div class="icon-btn" id="wishlist-icon">
                    <i class="far fa-heart"></i>
                    <span class="wishlist-count">0</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Login Modal -->
    <div class="auth-modal" id="login-modal">
        <div class="auth-content">
            <button class="close-auth" id="close-login">&times;</button>
            <div class="auth-header">
                <h2>مرحباً بك في الأشراف</h2>
                <p>سجل الدخول لحسابك للاستمتاع بتجربة تسوق مخصصة</p>
            </div>
            <div class="auth-form">
                <div class="form-group">
                    <label for="login-email">البريد الإلكتروني أو رقم الهاتف</label>
                    <input type="text" id="login-email" placeholder="أدخل بريدك الإلكتروني أو رقم الهاتف" required>
                </div>
                <div class="form-group">
                    <label for="login-password">كلمة المرور</label>
                    <input type="password" id="login-password" placeholder="أدخل كلمة المرور" required>
                </div>
                <button class="auth-btn" id="login-btn">تسجيل الدخول</button>
                
                <div class="divider">
                    <span>أو</span>
                </div>
                
                <div class="social-login">
                    <button class="social-btn google-btn" id="google-login">
                        <i class="fab fa-google"></i>
                        تسجيل الدخول بـ Google
                    </button>
                    <button class="social-btn phone-btn" id="phone-login">
                        <i class="fas fa-phone"></i>
                        تسجيل الدخول برقم الهاتف
                    </button>
                </div>
                
                <div class="switch-form">
                    <p>ليس لديك حساب؟ <a href="#" id="show-register">أنشئ حساب جديد</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div class="auth-modal" id="register-modal">
        <div class="auth-content">
            <button class="close-auth" id="close-register">&times;</button>
            <div class="auth-header">
                <h2>إنشاء حساب جديد</h2>
                <p>أنشئ حسابك للوصول إلى جميع الميزات</p>
            </div>
            <div class="auth-form">
                <div class="form-group">
                    <label for="register-name">الاسم الكامل</label>
                    <input type="text" id="register-name" placeholder="أدخل اسمك الكامل" required>
                </div>
                <div class="form-group">
                    <label for="register-email">البريد الإلكتروني</label>
                    <input type="email" id="register-email" placeholder="أدخل بريدك الإلكتروني" required>
                </div>
                <div class="form-group">
                    <label for="register-phone">رقم الهاتف</label>
                    <input type="tel" id="register-phone" placeholder="010XXXXXXXX" required>
                </div>
                <div class="form-group">
                    <label for="register-password">كلمة المرور</label>
                    <input type="password" id="register-password" placeholder="أدخل كلمة المرور" required>
                </div>
                <div class="form-group">
                    <label for="register-confirm-password">تأكيد كلمة المرور</label>
                    <input type="password" id="register-confirm-password" placeholder="أعد إدخال كلمة المرور" required>
                </div>
                <button class="auth-btn" id="register-btn">إنشاء الحساب</button>
                
                <div class="switch-form">
                    <p>لديك حساب بالفعل؟ <a href="#" id="show-login">تسجيل الدخول</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- SMS Verification Modal -->
    <div class="sms-verification-modal" id="sms-verification-modal">
        <div class="sms-verification-content">
            <button class="close-auth" id="close-sms-verification">&times;</button>
            <div class="sms-verification-header">
                <h3>رمز التحقق عبر الرسائل</h3>
                <p>تم إرسال رمز التحقق إلى رقم هاتفك عبر الرسائل النصية</p>
                <p id="phone-display" style="font-weight: bold; color: #4361ee; margin-top: 0.3rem;"></p>
            </div>
            <div class="sms-verification-code">
                <input type="text" class="code-input" maxlength="1" id="sms-code-1">
                <input type="text" class="code-input" maxlength="1" id="sms-code-2">
                <input type="text" class="code-input" maxlength="1" id="sms-code-3">
                <input type="text" class="code-input" maxlength="1" id="sms-code-4">
                <input type="text" class="code-input" maxlength="1" id="sms-code-5">
                <input type="text" class="code-input" maxlength="1" id="sms-code-6">
            </div>
            <button class="auth-btn" id="verify-sms-code">تأكيد الرمز</button>
            <div class="resend-code">
                <button id="resend-sms-code">إعادة إرسال الرمز (<span id="countdown">30</span>)</button>
            </div>
        </div>
    </div>

    <!-- Shopping Cart Modal -->
    <div class="cart-modal" id="cart-modal">
        <div class="cart-header">
            <h3>سلة المشتريات</h3>
            <button class="close-cart" id="close-cart">&times;</button>
        </div>
        <div class="cart-items" id="cart-items">
            <div class="empty-cart" id="empty-cart">
                <i class="fas fa-shopping-cart" style="font-size: 2.5rem; margin-bottom: 1rem; color: #4361ee;"></i>
                <p>سلة المشتريات فارغة</p>
                <p style="font-size: 0.85rem; margin-top: 0.5rem;">ابدأ بالتسوق الآن!</p>
            </div>
        </div>
        <div class="cart-footer" id="cart-footer" style="display: none;">
            <div class="cart-total">
                <span>الإجمالي:</span>
                <span id="total-price">0 ج.م</span>
            </div>
            <button class="checkout-btn" id="checkout-btn">اتمام الطلب</button>
        </div>
    </div>

    <!-- Wishlist Modal -->
    <div class="wishlist-modal" id="wishlist-modal">
        <div class="wishlist-header">
            <h3>المفضلة</h3>
            <button class="close-wishlist" id="close-wishlist">&times;</button>
        </div>
        <div class="wishlist-items" id="wishlist-items">
            <div class="empty-wishlist" id="empty-wishlist">
                <i class="far fa-heart" style="font-size: 2.5rem; margin-bottom: 1rem; color: #f72585;"></i>
                <p>قائمة المفضلة فارغة</p>
                <p style="font-size: 0.85rem; margin-top: 0.5rem;">أضف منتجاتك المفضلة!</p>
            </div>
        </div>
    </div>

    <!-- Product Detail Modal -->
    <div class="product-detail-modal" id="product-detail-modal">
        <div class="product-detail-content">
            <button class="close-product-detail" id="close-product-detail">&times;</button>
            <div class="product-detail-container">
                <div class="product-detail-image">
                    <div class="main-image" id="main-image"></div>
                    <div class="thumbnail-images" id="thumbnail-images"></div>
                </div>
                <div class="product-detail-info">
                    <div class="product-detail-brand" id="product-detail-brand"></div>
                    <h2 class="product-detail-title" id="product-detail-title"></h2>
                    <div class="product-detail-rating" id="product-detail-rating"></div>
                    <div class="product-detail-price">
                        <span class="product-detail-current-price" id="product-detail-current-price"></span>
                        <span class="product-detail-original-price" id="product-detail-original-price"></span>
                        <span class="product-detail-discount" id="product-detail-discount"></span>
                    </div>
                    <p class="product-detail-description" id="product-detail-description"></p>
                    <ul class="product-detail-features" id="product-detail-features"></ul>
                    <div class="product-detail-actions">
                        <button class="add-to-cart-detail" id="add-to-cart-detail">أضف للسلة</button>
                        <button class="wishlist-detail" id="wishlist-detail">
                            <i class="far fa-heart"></i>
                        </button>
                        <button class="compare-detail" id="compare-detail">
                            <i class="fas fa-exchange-alt"></i>
                        </button>
                    </div>
                </div>
            </div>
            <div class="product-detail-tabs">
                <div class="tab-buttons">
                    <button class="tab-button active" data-tab="description">الوصف</button>
                    <button class="tab-button" data-tab="specifications">المواصفات</button>
                    <button class="tab-button" data-tab="reviews">التقييمات</button>
                </div>
                <div class="tab-content">
                    <div class="tab-pane active" id="description-tab">
                        <p id="detailed-description"></p>
                    </div>
                    <div class="tab-pane" id="specifications-tab">
                        <table class="specifications-table" id="specifications-table"></table>
                    </div>
                    <div class="tab-pane" id="reviews-tab">
                        <div class="reviews-container">
                            <div class="review-summary">
                                <div class="review-average">
                                    <div class="review-average-score" id="average-score">4.5</div>
                                    <div class="review-average-stars" id="average-stars"></div>
                                    <div class="review-average-count" id="review-count">128 تقييم</div>
                                </div>
                                <div class="review-bars">
                                    <div class="review-bar">
                                        <div class="review-bar-label">5</div>
                                        <div class="review-bar-track">
                                            <div class="review-bar-fill" style="width: 70%"></div>
                                        </div>
                                        <div class="review-bar-count">90</div>
                                    </div>
                                    <div class="review-bar">
                                        <div class="review-bar-label">4</div>
                                        <div class="review-bar-track">
                                            <div class="review-bar-fill" style="width: 15%"></div>
                                        </div>
                                        <div class="review-bar-count">19</div>
                                    </div>
                                    <div class="review-bar">
                                        <div class="review-bar-label">3</div>
                                        <div class="review-bar-track">
                                            <div class="review-bar-fill" style="width: 8%"></div>
                                        </div>
                                        <div class="review-bar-count">10</div>
                                    </div>
                                    <div class="review-bar">
                                        <div class="review-bar-label">2</div>
                                        <div class="review-bar-track">
                                            <div class="review-bar-fill" style="width: 4%"></div>
                                        </div>
                                        <div class="review-bar-count">5</div>
                                    </div>
                                    <div class="review-bar">
                                        <div class="review-bar-label">1</div>
                                        <div class="review-bar-track">
                                            <div class="review-bar-fill" style="width: 3%"></div>
                                        </div>
                                        <div class="review-bar-count">4</div>
                                    </div>
                                </div>
                            </div>
                            <div class="reviews-list" id="reviews-list"></div>
                            <div class="write-review">
                                <h4>اكتب تقييمك</h4>
                                <div class="rating-input" id="rating-input">
                                    <i class="fas fa-star rating-star" data-rating="1"></i>
                                    <i class="fas fa-star rating-star" data-rating="2"></i>
                                    <i class="fas fa-star rating-star" data-rating="3"></i>
                                    <i class="fas fa-star rating-star" data-rating="4"></i>
                                    <i class="fas fa-star rating-star" data-rating="5"></i>
                                </div>
                                <textarea class="review-textarea" id="review-textarea" placeholder="شارك رأيك في هذا المنتج..."></textarea>
                                <button class="submit-review" id="submit-review">إرسال التقييم</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="overlay" id="overlay"></div>

    <!-- Notification Toast -->
    <div class="notification-toast" id="notification-toast">
        <div class="notification-icon" id="notification-icon">
            <i class="fas fa-check"></i>
        </div>
        <div class="notification-content">
            <div class="notification-title" id="notification-title">نجاح</div>
            <div class="notification-message" id="notification-message">تمت العملية بنجاح</div>
        </div>
        <button class="notification-close" id="notification-close">&times;</button>
    </div>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="container hero-content">
            <h1>الأشراف - عالم التكنولوجيا المتطور</h1>
            <p>اكتشف أحدث الأجهزة الإلكترونية بأسعار تنافسية وضمان شامل من متجر الأشراف. من الهواتف الذكية إلى أجهزة الكمبيوتر المحمولة، كل ما تحتاجه لتكنولوجيا متطورة.</p>
            <div class="hero-buttons">
                <a href="#products" class="btn btn-primary">تسوق الآن</a>
                <a href="#categories" class="btn btn-secondary">استكشف الفئات</a>
            </div>
        </div>
    </section>

    <!-- Categories Section -->
    <section id="categories" class="section">
        <div class="container">
            <div class="section-title">
                <h2>الفئات</h2>
                <p>تصفح مجموعتنا الواسعة من الفئات المختلفة</p>
            </div>
            <div class="categories-grid">
                <div class="category-card" data-category="phones">
                    <i class="fas fa-mobile-alt category-icon"></i>
                    <h3>الهواتف</h3>
                </div>
                <div class="category-card" data-category="laptops">
                    <i class="fas fa-laptop category-icon"></i>
                    <h3>اللابتوبات</h3>
                </div>
                <div class="category-card" data-category="tablets">
                    <i class="fas fa-tablet-alt category-icon"></i>
                    <h3>الأجهزة اللوحية</h3>
                </div>
                <div class="category-card" data-category="headphones">
                    <i class="fas fa-headphones category-icon"></i>
                    <h3>السماعات</h3>
                </div>
                <div class="category-card" data-category="cameras">
                    <i class="fas fa-camera category-icon"></i>
                    <h3>الكاميرات</h3>
                </div>
                <div class="category-card" data-category="gaming">
                    <i class="fas fa-gamepad category-icon"></i>
                    <h3>ألعاب</h3>
                </div>
            </div>
        </div>
    </section>

    <!-- Compare Section -->
    <section id="compare-section" class="section" style="display: none;">
        <div class="container">
            <div class="compare-section">
                <div class="compare-header">
                    <h3 class="compare-title">مقارنة المنتجات</h3>
                    <span class="compare-count" id="compare-count">0 منتجات</span>
                </div>
                <div class="compare-items" id="compare-items">
                    <div class="empty-compare" id="empty-compare">
                        <p>لم يتم اختيار أي منتجات للمقارنة</p>
                    </div>
                </div>
                <div class="compare-actions" id="compare-actions" style="display: none;">
                    <button class="compare-button" id="compare-button">مقارنة</button>
                    <button class="clear-compare" id="clear-compare">مسح الكل</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section id="products" class="section">
        <div class="container">
            <div class="section-title">
                <h2>أحدث المنتجات</h2>
                <p>اكتشف أحدث الأجهزة الإلكترونية بمواصفات متطورة وأسعار مميزة من الأشراف</p>
            </div>
            
            <!-- Filter Section -->
            <div class="filter-section">
                <div class="filter-header">
                    <h3 class="filter-title">تصفية المنتجات</h3>
                    <button class="filter-toggle" id="filter-toggle">
                        <span>إظهار الفلاتر</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                </div>
                <div class="filter-content" id="filter-content">
                    <div class="filter-group">
                        <h4>الفئة</h4>
                        <div class="filter-option">
                            <input type="checkbox" id="filter-phones" class="filter-checkbox" data-category="phones">
                            <label for="filter-phones">الهواتف</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="filter-laptops" class="filter-checkbox" data-category="laptops">
                            <label for="filter-laptops">اللابتوبات</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="filter-tablets" class="filter-checkbox" data-category="tablets">
                            <label for="filter-tablets">الأجهزة اللوحية</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="filter-headphones" class="filter-checkbox" data-category="headphones">
                            <label for="filter-headphones">السماعات</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="filter-cameras" class="filter-checkbox" data-category="cameras">
                            <label for="filter-cameras">الكاميرات</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="filter-gaming" class="filter-checkbox" data-category="gaming">
                            <label for="filter-gaming">ألعاب</label>
                        </div>
                    </div>
                    <div class="filter-group">
                        <h4>السعر</h4>
                        <div class="price-range">
                            <input type="number" class="price-input" id="min-price" placeholder="الحد الأدنى">
                            <span>-</span>
                            <input type="number" class="price-input" id="max-price" placeholder="الحد الأعلى">
                        </div>
                    </div>
                    <div class="filter-group">
                        <h4>العلامة التجارية</h4>
                        <div class="filter-option">
                            <input type="checkbox" id="filter-apple" class="filter-checkbox" data-brand="Apple">
                            <label for="filter-apple">Apple</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="filter-samsung" class="filter-checkbox" data-brand="Samsung">
                            <label for="filter-samsung">Samsung</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="filter-dell" class="filter-checkbox" data-brand="Dell">
                            <label for="filter-dell">Dell</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="filter-sony" class="filter-checkbox" data-brand="Sony">
                            <label for="filter-sony">Sony</label>
                        </div>
                    </div>
                    <div class="filter-group">
                        <h4>التقييم</h4>
                        <div class="filter-option">
                            <input type="checkbox" id="filter-5stars" class="filter-checkbox" data-rating="5">
                            <label for="filter-5stars">5 نجوم</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="filter-4stars" class="filter-checkbox" data-rating="4">
                            <label for="filter-4stars">4 نجوم فأكثر</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="filter-3stars" class="filter-checkbox" data-rating="3">
                            <label for="filter-3stars">3 نجوم فأكثر</label>
                        </div>
                    </div>
                </div>
                <div class="filter-actions">
                    <button class="apply-filter" id="apply-filter">تطبيق الفلاتر</button>
                    <button class="reset-filter" id="reset-filter">إعادة تعيين</button>
                </div>
            </div>
            
            <!-- Sort Section -->
            <div class="sort-section">
                <div class="results-count" id="results-count">عرض 8 منتجات</div>
                <div class="sort-dropdown">
                    <button class="sort-button" id="sort-button">
                        <span>الترتيب حسب</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="sort-options" id="sort-options">
                        <div class="sort-option active" data-sort="default">الافتراضي</div>
                        <div class="sort-option" data-sort="price-low">السعر: من الأقل إلى الأعلى</div>
                        <div class="sort-option" data-sort="price-high">السعر: من الأعلى إلى الأقل</div>
                        <div class="sort-option" data-sort="rating">التقييم</div>
                        <div class="sort-option" data-sort="newest">الأحدث</div>
                    </div>
                </div>
            </div>
            
            <div class="products-grid" id="products-grid">
                <!-- Product 1 -->
                <div class="product-card" data-id="1" data-category="phones" data-brand="Apple" data-price="32999" data-rating="4.5">
                    <span class="product-badge">عرض خاص</span>
                    <div class="product-image" style="background-image: url('https://placehold.co/300x250/0d1b2a/4cc9f0?text=iPhone+15');">
                        <div class="product-quick-view" data-id="1">عرض سريع</div>
                    </div>
                    <div class="product-info">
                        <div class="product-brand">Apple</div>
                        <h3>آيفون 15 برو ماكس</h3>
                        <div class="product-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                            <span>(128 تقييم)</span>
                        </div>
                        <div class="product-price">
                            <span class="current-price">32,999 ج.م</span>
                            <span class="original-price">38,999 ج.م</span>
                        </div>
                        <div class="product-actions">
                            <button class="add-to-cart" data-id="1" data-name="آيفون 15 برو ماكس" data-price="32999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=iPhone+15">أضف للسلة</button>
                            <button class="wishlist-btn" data-id="1" data-name="آيفون 15 برو ماكس" data-price="32999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=iPhone+15">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="compare-btn" data-id="1" data-name="آيفون 15 برو ماكس" data-price="32999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=iPhone+15">
                                <i class="fas fa-exchange-alt"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Product 2 -->
                <div class="product-card" data-id="2" data-category="phones" data-brand="Samsung" data-price="41999" data-rating="5">
                    <span class="product-badge">جديد</span>
                    <div class="product-image" style="background-image: url('https://placehold.co/300x250/0d1b2a/4cc9f0?text=Samsung+S24');">
                        <div class="product-quick-view" data-id="2">عرض سريع</div>
                    </div>
                    <div class="product-info">
                        <div class="product-brand">Samsung</div>
                        <h3>جالكسي إس 24 الترا</h3>
                        <div class="product-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <span>(94 تقييم)</span>
                        </div>
                        <div class="product-price">
                            <span class="current-price">41,999 ج.م</span>
                        </div>
                        <div class="product-actions">
                            <button class="add-to-cart" data-id="2" data-name="جالكسي إس 24 الترا" data-price="41999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=Samsung+S24">أضف للسلة</button>
                            <button class="wishlist-btn" data-id="2" data-name="جالكسي إس 24 الترا" data-price="41999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=Samsung+S24">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="compare-btn" data-id="2" data-name="جالكسي إس 24 الترا" data-price="41999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=Samsung+S24">
                                <i class="fas fa-exchange-alt"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Product 3 -->
                <div class="product-card" data-id="3" data-category="laptops" data-brand="Apple" data-price="64999" data-rating="4.5">
                    <div class="product-image" style="background-image: url('https://placehold.co/300x250/0d1b2a/4cc9f0?text=MacBook+Pro');">
                        <div class="product-quick-view" data-id="3">عرض سريع</div>
                    </div>
                    <div class="product-info">
                        <div class="product-brand">Apple</div>
                        <h3>ماك بوك برو M3</h3>
                        <div class="product-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                            <span>(76 تقييم)</span>
                        </div>
                        <div class="product-price">
                            <span class="current-price">64,999 ج.م</span>
                            <span class="original-price">69,999 ج.م</span>
                        </div>
                        <div class="product-actions">
                            <button class="add-to-cart" data-id="3" data-name="ماك بوك برو M3" data-price="64999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=MacBook+Pro">أضف للسلة</button>
                            <button class="wishlist-btn" data-id="3" data-name="ماك بوك برو M3" data-price="64999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=MacBook+Pro">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="compare-btn" data-id="3" data-name="ماك بوك برو M3" data-price="64999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=MacBook+Pro">
                                <i class="fas fa-exchange-alt"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Product 4 -->
                <div class="product-card" data-id="4" data-category="laptops" data-brand="Dell" data-price="38999" data-rating="4">
                    <span class="product-badge">تخفيض</span>
                    <div class="product-image" style="background-image: url('https://placehold.co/300x250/0d1b2a/4cc9f0?text=Dell+XPS');">
                        <div class="product-quick-view" data-id="4">عرض سريع</div>
                    </div>
                    <div class="product-info">
                        <div class="product-brand">Dell</div>
                        <h3>ديل إكس بي إس 15</h3>
                        <div class="product-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="far fa-star"></i>
                            <span>(42 تقييم)</span>
                        </div>
                        <div class="product-price">
                            <span class="current-price">38,999 ج.م</span>
                            <span class="original-price">45,999 ج.م</span>
                        </div>
                        <div class="product-actions">
                            <button class="add-to-cart" data-id="4" data-name="ديل إكس بي إس 15" data-price="38999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=Dell+XPS">أضف للسلة</button>
                            <button class="wishlist-btn" data-id="4" data-name="ديل إكس بي إس 15" data-price="38999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=Dell+XPS">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="compare-btn" data-id="4" data-name="ديل إكس بي إس 15" data-price="38999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=Dell+XPS">
                                <i class="fas fa-exchange-alt"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Product 5 -->
                <div class="product-card" data-id="5" data-category="tablets" data-brand="Apple" data-price="18999" data-rating="4.5">
                    <div class="product-image" style="background-image: url('https://placehold.co/300x250/0d1b2a/4cc9f0?text=iPad+Pro');">
                        <div class="product-quick-view" data-id="5">عرض سريع</div>
                    </div>
                    <div class="product-info">
                        <div class="product-brand">Apple</div>
                        <h3>آيباد برو M2</h3>
                        <div class="product-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                            <span>(56 تقييم)</span>
                        </div>
                        <div class="product-price">
                            <span class="current-price">18,999 ج.م</span>
                        </div>
                        <div class="product-actions">
                            <button class="add-to-cart" data-id="5" data-name="آيباد برو M2" data-price="18999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=iPad+Pro">أضف للسلة</button>
                            <button class="wishlist-btn" data-id="5" data-name="آيباد برو M2" data-price="18999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=iPad+Pro">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="compare-btn" data-id="5" data-name="آيباد برو M2" data-price="18999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=iPad+Pro">
                                <i class="fas fa-exchange-alt"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Product 6 -->
                <div class="product-card" data-id="6" data-category="headphones" data-brand="Sony" data-price="8999" data-rating="4">
                    <div class="product-image" style="background-image: url('https://placehold.co/300x250/0d1b2a/4cc9f0?text=Sony+WH-1000XM5');">
                        <div class="product-quick-view" data-id="6">عرض سريع</div>
                    </div>
                    <div class="product-info">
                        <div class="product-brand">Sony</div>
                        <h3>سوني WH-1000XM5</h3>
                        <div class="product-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="far fa-star"></i>
                            <span>(38 تقييم)</span>
                        </div>
                        <div class="product-price">
                            <span class="current-price">8,999 ج.م</span>
                            <span class="original-price">10,999 ج.م</span>
                        </div>
                        <div class="product-actions">
                            <button class="add-to-cart" data-id="6" data-name="سوني WH-1000XM5" data-price="8999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=Sony+WH-1000XM5">أضف للسلة</button>
                            <button class="wishlist-btn" data-id="6" data-name="سوني WH-1000XM5" data-price="8999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=Sony+WH-1000XM5">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="compare-btn" data-id="6" data-name="سوني WH-1000XM5" data-price="8999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=Sony+WH-1000XM5">
                                <i class="fas fa-exchange-alt"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Product 7 -->
                <div class="product-card" data-id="7" data-category="cameras" data-brand="Sony" data-price="24999" data-rating="5">
                    <span class="product-badge">جديد</span>
                    <div class="product-image" style="background-image: url('https://placehold.co/300x250/0d1b2a/4cc9f0?text=Sony+A7R+V');">
                        <div class="product-quick-view" data-id="7">عرض سريع</div>
                    </div>
                    <div class="product-info">
                        <div class="product-brand">Sony</div>
                        <h3>سوني A7R V</h3>
                        <div class="product-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <span>(21 تقييم)</span>
                        </div>
                        <div class="product-price">
                            <span class="current-price">24,999 ج.م</span>
                        </div>
                        <div class="product-actions">
                            <button class="add-to-cart" data-id="7" data-name="سوني A7R V" data-price="24999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=Sony+A7R+V">أضف للسلة</button>
                            <button class="wishlist-btn" data-id="7" data-name="سوني A7R V" data-price="24999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=Sony+A7R+V">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="compare-btn" data-id="7" data-name="سوني A7R V" data-price="24999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=Sony+A7R+V">
                                <i class="fas fa-exchange-alt"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Product 8 -->
                <div class="product-card" data-id="8" data-category="gaming" data-brand="Sony" data-price="12999" data-rating="4.5">
                    <div class="product-image" style="background-image: url('https://placehold.co/300x250/0d1b2a/4cc9f0?text=PlayStation+5');">
                        <div class="product-quick-view" data-id="8">عرض سريع</div>
                    </div>
                    <div class="product-info">
                        <div class="product-brand">Sony</div>
                        <h3>بلاي ستيشن 5</h3>
                        <div class="product-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                            <span>(87 تقييم)</span>
                        </div>
                        <div class="product-price">
                            <span class="current-price">12,999 ج.م</span>
                            <span class="original-price">14,999 ج.م</span>
                        </div>
                        <div class="product-actions">
                            <button class="add-to-cart" data-id="8" data-name="بلاي ستيشن 5" data-price="12999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=PlayStation+5">أضف للسلة</button>
                            <button class="wishlist-btn" data-id="8" data-name="بلاي ستيشن 5" data-price="12999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=PlayStation+5">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="compare-btn" data-id="8" data-name="بلاي ستيشن 5" data-price="12999" data-image="https://placehold.co/300x250/0d1b2a/4cc9f0?text=PlayStation+5">
                                <i class="fas fa-exchange-alt"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="contact">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>الأشراف</h3>
                    <p>متجر إلكترونيات رائد يقدم أحدث الأجهزة التقنية بأسعار تنافسية وجودة مضمونة من الأشراف.</p>
                    <div class="social-links">
                        <a href="#" class="social-link" aria-label="واتساب"><i class="fab fa-whatsapp"></i></a>
                        <a href="#" class="social-link" aria-label="فيسبوك"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-link" aria-label="إنستغرام"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>روابط سريعة</h3>
                    <a href="#home">الرئيسية</a>
                    <a href="#products">المنتجات</a>
                    <a href="#categories">الفئات</a>
                    <a href="#">العروض الخاصة</a>
                </div>
                <div class="footer-column">
                    <h3>الفئات</h3>
                    <a href="#">الهواتف الذكية</a>
                    <a href="#">اللابتوبات</a>
                    <a href="#">الأجهزة اللوحية</a>
                    <a href="#">الإكسسوارات</a>
                    <a href="#">الكاميرات</a>
                </div>
                <div class="footer-column">
                    <h3>تواصل معنا</h3>
                    <div class="contact-info">
                        <i class="fas fa-map-marker-alt contact-icon"></i>
                        <span>2 متفرع من شارع المنشية، فيصل، قسم الجيزة، محافظة الجيزة 3710510</span>
                    </div>
                    <div class="contact-info">
                        <i class="fas fa-phone contact-icon"></i>
                        <span>[YOUR_PHONE_NUMBER]</span>
                    </div>
                    <div class="contact-info">
                        <i class="fas fa-envelope contact-icon"></i>
                        <span>info@alashraf.com</span>
                    </div>
                    <div class="contact-info">
                        <i class="fab fa-whatsapp contact-icon"></i>
                        <span>[YOUR_WHATSAPP_NUMBER]</span>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 الأشراف. جميع الحقوق محفوظة.</p>
            </div>
        </div>
    </footer>

    <script>
        // User Authentication and Profile Management
        let currentUser = null;
        let cart = [];
        let wishlist = [];
        let compareList = [];
        let tempUserData = null;
        let countdownTimer = null;
        let countdownValue = 30;
        let currentProduct = null;
        let userRating = 0;
        let currentSort = 'default';
        let activeFilters = {
            categories: [],
            brands: [],
            minPrice: null,
            maxPrice: null,
            rating: null
        };
        
        // Product Database
        const products = [
            {
                id: 1,
                name: 'آيفون 15 برو ماكس',
                brand: 'Apple',
                category: 'phones',
                price: 32999,
                originalPrice: 38999,
                rating: 4.5,
                reviews: 128,
                image: 'https://placehold.co/300x250/0d1b2a/4cc9f0?text=iPhone+15',
                images: [
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=iPhone+15',
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=iPhone+15+Back',
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=iPhone+15+Side'
                ],
                badge: 'عرض خاص',
                description: 'آيفون 15 برو ماكس بأحدث معالج A17 برو وكاميرا متطورة وشاشة Super Retina XDR.',
                detailedDescription: 'يتميز آيفون 15 برو ماكس بتصميمه الأنيق من التيتانيوم وشاشة Super Retina XDR بحجم 6.7 بوصة مع تقنية ProMotion. يعمل بمعالج A17 برو الجديد الذي يقدم أداءً فائقًا وكفاءة في استهلاك الطاقة. الكاميرا الرئيسية بدقة 48 ميجابكسل مع تقنية ProRAW والقدرة على تصوير الفيديو بدقة 4K بمعدل 120 إطارًا في الثانية. البطارية تدوم طوال اليوم مع دعم الشحن السريع والشحن اللاسلكي.',
                features: [
                    'شاشة Super Retina XDR بحجم 6.7 بوصة',
                    'معالج A17 برو مع شريحة Neural Engine',
                    'نظام كاميرا احترافي بدقة 48 ميجابكسل',
                    'بطارية تدوم طوال اليوم',
                    'مقاومة للماء والغبار بمعيار IP68',
                    'دعم الشحن السريع والشحن اللاسلكي'
                ],
                specifications: {
                    'الشاشة': 'Super Retina XDR OLED، 6.7 بوصة، 2796 × 1290 بكسل',
                    'المعالج': 'A17 برو',
                    'الكاميرا الخلفية': '48 ميجابكسل رئيسية، 12 ميجابكسل ultra wide، 12 ميجابكسل telephoto',
                    'الكاميرا الأمامية': '12 ميجابكسل',
                    'التخزين': '128GB، 256GB، 512GB، 1TB',
                    'البطارية': 'تدوم طوال اليوم',
                    'الاتصال': '5G، Wi-Fi 6E، Bluetooth 5.3',
                    'الألوان': 'تيتانيوم أزرق، تيتانيوم أبيض، تيتانيوم أسود، تيتانيوم طبيعي'
                },
                reviews: [
                    {
                        name: 'أحمد محمد',
                        rating: 5,
                        date: '2023-10-15',
                        text: 'هاتف رائع جداً! الكاميرا مذهلة والأداء سريع جداً. يستحق كل ريال.'
                    },
                    {
                        name: 'سارة أحمد',
                        rating: 4,
                        date: '2023-10-10',
                        text: 'الهاتف ممتاز لكن السعر مرتفع قليلاً. الكاميرا أفضل ما فيه.'
                    },
                    {
                        name: 'محمد علي',
                        rating: 5,
                        date: '2023-09-28',
                        text: 'تحسن كبير عن الإصدار السابق. البطارية تدوم أطول والشاشة أفضل.'
                    }
                ]
            },
            {
                id: 2,
                name: 'جالكسي إس 24 الترا',
                brand: 'Samsung',
                category: 'phones',
                price: 41999,
                originalPrice: null,
                rating: 5,
                reviews: 94,
                image: 'https://placehold.co/300x250/0d1b2a/4cc9f0?text=Samsung+S24',
                images: [
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=Samsung+S24',
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=Samsung+S24+Back',
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=Samsung+S24+Side'
                ],
                badge: 'جديد',
                description: 'جالكسي إس 24 الترا بكاميرا مذهلة 200 ميجابكسل وشاشة Dynamic AMOLED 2X.',
                detailedDescription: 'جالكسي إس 24 الترا هو أحدث هاتف ذكي من سامسونج مع كاميرا رئيسية بدقة 200 ميجابكسل وقدرة تكبير رقمية تصل إلى 100x. الشاشة Dynamic AMOLED 2X بحجم 6.8 بوصة مع معدل تحديث 120Hz. يعمل بمعالج Snapdragon 8 Gen 3 للجوال مع ذاكرة RAM تصل إلى 12GB. يدعم الشحن السريع بقدرة 45W والشحن اللاسلكي السريع.',
                features: [
                    'شاشة Dynamic AMOLED 2X بحجم 6.8 بوصة',
                    'معالج Snapdragon 8 Gen 3 للجوال',
                    'كاميرا رئيسية بدقة 200 ميجابكسل مع تكبير رقمي 100x',
                    'ذاكرة RAM 12GB مع مساحة تخزين تصل إلى 1TB',
                    'بطارية 5000mAh مع دعم الشحن السريع',
                    'مقاومة للماء والغبار بمعيار IP68'
                ],
                specifications: {
                    'الشاشة': 'Dynamic AMOLED 2X، 6.8 بوصة، 1440 × 3120 بكسل',
                    'المعالج': 'Snapdragon 8 Gen 3 للجوال',
                    'الكاميرا الخلفية': '200 ميجابكسل رئيسية، 12 ميجابكسل ultra wide، 10 ميجابكسل teleoptic',
                    'الكاميرا الأمامية': '12 ميجابكسل',
                    'التخزين': '256GB، 512GB، 1TB',
                    'البطارية': '5000mAh',
                    'الاتصال': '5G، Wi-Fi 7، Bluetooth 5.3',
                    'الألوان': 'أسود، بنفسجي، كريمي، رمادي'
                },
                reviews: [
                    {
                        name: 'خالد العتيبي',
                        rating: 5,
                        date: '2023-11-05',
                        text: 'أفضل هاتف استخدمته في حياتي! الكاميرا مذهلة خاصة في الإضاءة المنخفضة.'
                    },
                    {
                        name: 'نورة السعيد',
                        rating: 5,
                        date: '2023-11-01',
                        text: 'الهاتف يستحق كل ريال. الأداء سريع جداً والشاشة رائعة.'
                    },
                    {
                        name: 'عبدالله العنزي',
                        rating: 5,
                        date: '2023-10-25',
                        text: 'تحسن كبير عن S23 Ultra. الكاميرا أفضل والبطارية تدوم أطول.'
                    }
                ]
            },
            {
                id: 3,
                name: 'ماك بوك برو M3',
                brand: 'Apple',
                category: 'laptops',
                price: 64999,
                originalPrice: 69999,
                rating: 4.5,
                reviews: 76,
                image: 'https://placehold.co/300x250/0d1b2a/4cc9f0?text=MacBook+Pro',
                images: [
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=MacBook+Pro',
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=MacBook+Pro+Keyboard',
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=MacBook+Pro+Side'
                ],
                badge: null,
                description: 'ماك بوك برو بشريحة M3 الجديدة وشاشة Liquid Retina XDR.',
                detailedDescription: 'ماك بوك برو بشريحة M3 الجديدة يقدم أداءً استثنائياً وكفاءة في استهلاك الطاقة. الشاشة Liquid Retina XDR بحجم 14 بوصة مع دعم تقنية ProMotion ومعدل تحديث متغير. يأتي بذاكرة موحدة تصل إلى 36GB ومساحة تخزين تصل إلى 8TB. يدعم شاشات خارجية تصل إلى 6K ويحتوي على منافذ Thunderbolt 4.',
                features: [
                    'شريحة M3 مع وحدة معالجة رسوميات تصل إلى 10 نوى',
                    'شاشة Liquid Retina XDR بحجم 14 بوصة',
                    'ذاكرة موحدة تصل إلى 36GB',
                    'مساحة تخزين سريعة تصل إلى 8TB',
                    'بطارية تدوم حتى 18 ساعة',
                    'نظام صوتي مع ستة مكبرات صوت'
                ],
                specifications: {
                    'الشاشة': 'Liquid Retina XDR، 14.2 بوصة، 3024 × 1964 بكسل',
                    'المعالج': 'شريحة M3 من Apple',
                    'الذاكرة': '8GB، 16GB، 18GB، 36GB',
                    'التخزين': '512GB، 1TB، 2TB، 4TB، 8TB',
                    'البطارية': 'تدوم حتى 18 ساعة',
                    'المنافذ': '3 منافذ Thunderbolt 4، منفذ HDMI، منفذ SDXC',
                    'الاتصال': 'Wi-Fi 6E، Bluetooth 5.3',
                    'الكاميرا': '1080p مع دعم تقنية Center Stage'
                },
                reviews: [
                    {
                        name: 'فيصل الرشيد',
                        rating: 5,
                        date: '2023-10-20',
                        text: 'أفضل لابتوب استخدمته! الأداء سريع جداً والشاشة مذهلة.'
                    },
                    {
                        name: 'مريم الأحمدي',
                        rating: 4,
                        date: '2023-10-15',
                        text: 'الجهاز ممتاز لكن السعر مرتفع. البطارية تدوم طويلاً وهذا رائع.'
                    },
                    {
                        name: 'سعد العبدالله',
                        rating: 5,
                        date: '2023-10-05',
                        text: 'تحسن كبير عن M2. الأداء أفضل والشاشة أكثر سطوعاً.'
                    }
                ]
            },
            {
                id: 4,
                name: 'ديل إكس بي إس 15',
                brand: 'Dell',
                category: 'laptops',
                price: 38999,
                originalPrice: 45999,
                rating: 4,
                reviews: 42,
                image: 'https://placehold.co/300x250/0d1b2a/4cc9f0?text=Dell+XPS',
                images: [
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=Dell+XPS',
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=Dell+XPS+Keyboard',
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=Dell+XPS+Side'
                ],
                badge: 'تخفيض',
                description: 'ديل إكس بي إس 15 بمعالج Intel Core i9 الجيل الثالث عشر وشاشة OLED.',
                detailedDescription: 'ديل إكس بي إس 15 هو لابتوب عالي الأداء بتصميم أنيق وأداء قوي. يعمل بمعالج Intel Core i9 الجيل الثالث عشر مع كرت شاشة NVIDIA GeForce RTX 4070. الشاشة OLED بحجم 15.6 بوصة بدقة 3.5K مع دعم HDR. يأتي بذاكرة RAM تصل إلى 64GB ومساحة تخزين تصل إلى 2TB.',
                features: [
                    'معالج Intel Core i9 الجيل الثالث عشر',
                    'كرت شاشة NVIDIA GeForce RTX 4070',
                    'شاشة OLED بحجم 15.6 بوصة بدقة 3.5K',
                    'ذاكرة RAM تصل إلى 64GB',
                    'مساحة تخزين تصل إلى 2TB',
                    'نظام تبريد متقدم'
                ],
                specifications: {
                    'الشاشة': 'OLED، 15.6 بوصة، 3456 × 2160 بكسل',
                    'المعالج': 'Intel Core i9-13900H',
                    'كرت الشاشة': 'NVIDIA GeForce RTX 4070',
                    'الذاكرة': '16GB، 32GB، 64GB DDR5',
                    'التخزين': '512GB، 1TB، 2TB NVMe SSD',
                    'البطارية': '86Wh',
                    'المنافذ': '2 منافذ Thunderbolt 4، 1 منفذ USB-C 3.2 Gen 2، 1 منفذ USB-A 3.2 Gen 1، منفذ HDMI 2.1، قارئ بطاقات SD',
                    'الاتصال': 'Wi-Fi 6E، Bluetooth 5.2'
                },
                reviews: [
                    {
                        name: 'عمر الخالدي',
                        rating: 4,
                        date: '2023-10-12',
                        text: 'لابتوب ممتاز للألعاب والعمل. الشاشة رائعة والأداء قوي.'
                    },
                    {
                        name: 'هند الشمري',
                        rating: 4,
                        date: '2023-10-08',
                        text: 'جهاز قوي لكن يصدر حرارة عند الاستخدام المكثف. الشاشة مذهلة.'
                    },
                    {
                        name: 'ناصر الدوسري',
                        rating: 4,
                        date: '2023-09-30',
                        text: 'قيمة ممتازة مقابل السعر. الأداء جيد جداً للبرامج الثقيلة.'
                    }
                ]
            },
            {
                id: 5,
                name: 'آيباد برو M2',
                brand: 'Apple',
                category: 'tablets',
                price: 18999,
                originalPrice: null,
                rating: 4.5,
                reviews: 56,
                image: 'https://placehold.co/300x250/0d1b2a/4cc9f0?text=iPad+Pro',
                images: [
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=iPad+Pro',
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=iPad+Pro+Back',
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=iPad+Pro+Side'
                ],
                badge: null,
                description: 'آيباد برو بشريحة M2 وشاشة Liquid Retina XDR.',
                detailedDescription: 'آيباد برو بشريحة M2 يقدم أداءً استثنائياً في جهاز لوحي نحيف وخفيف. الشاشة Liquid Retina XDR بحجم 12.9 بوصة مع تقنية ProMotion ومعدل تحديث 120Hz. يدعم قلم Apple Pencil الثاني ولوحة المفاتيح Magic Keyboard. كاميرا واسعة 12 ميجابكسل وكاميرا ultra wide 10 ميجابكسل.',
                features: [
                    'شريحة M2 مع وحدة معالجة رسوميات تصل إلى 10 نوى',
                    'شاشة Liquid Retina XDR بحجم 12.9 بوصة',
                    'دعم قلم Apple Pencil الثاني',
                    'دعم لوحة المفاتيح Magic Keyboard',
                    'كاميرا واسعة 12 ميجابكسل وكاميرا ultra wide 10 ميجابكسل',
                    'مكبرات صوت رباعية مع تقنية الصوت المكاني'
                ],
                specifications: {
                    'الشاشة': 'Liquid Retina XDR، 12.9 بوصة، 2732 × 2048 بكسل',
                    'المعالج': 'شريحة M2 من Apple',
                    'التخزين': '128GB، 256GB، 512GB، 1TB، 2TB',
                    'الكاميرا الخلفية': '12 ميجابكسل واسعة، 10 ميجابكسل ultra wide',
                    'الكاميرا الأمامية': '12 ميجابكسل ultra wide مع دعم تقنية Center Stage',
                    'الاتصال': 'Wi-Fi 6E، Bluetooth 5.3، 5G (نموذج الخلوي)',
                    'المستشعرات': 'Touch ID، Face ID'
                },
                reviews: [
                    {
                        name: 'فاطمة الزهراني',
                        rating: 5,
                        date: '2023-10-18',
                        text: 'أفضل جهاز لوحي في السوق! الأداء سريع جداً والشاشة مذهلة.'
                    },
                    {
                        name: 'ياسر القحطاني',
                        rating: 4,
                        date: '2023-10-10',
                        text: 'الجهاز ممتاز للرسم والتصميم. قلم Apple Pencil يعمل بشكل رائع.'
                    },
                    {
                        name: 'نورة الماجد',
                        rating: 5,
                        date: '2023-10-02',
                        text: 'استخدمه للعمل والترفيه. البطارية تدوم طويلاً وهذا رائع.'
                    }
                ]
            },
            {
                id: 6,
                name: 'سوني WH-1000XM5',
                brand: 'Sony',
                category: 'headphones',
                price: 8999,
                originalPrice: 10999,
                rating: 4,
                reviews: 38,
                image: 'https://placehold.co/300x250/0d1b2a/4cc9f0?text=Sony+WH-1000XM5',
                images: [
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=Sony+WH-1000XM5',
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=Sony+WH-1000XM5+Side',
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=Sony+WH-1000XM5+Case'
                ],
                badge: null,
                description: 'سماعات رأس لاسلكية من سوني بإلغاء ضوضاء متقدم وجودة صوت استثنائية.',
                detailedDescription: 'سوني WH-1000XM5 هي أحدث سماعات الرأس من سوني مع تقنية إلغاء الضوضاء المتقدمة ومعالج V1. توفر جودة صوت استثنائية مع دعم لـ Hi-Res Audio. البطارية تدوم حتى 30 ساعة مع إلغاء الضوضاء و 40 ساعة بدونه. تدعم Multipoint للاتصال بجهازين في نفس الوقت.',
                features: [
                    'تقنية إلغاء الضوضاء المتقدمة',
                    'معالج V1 الجديد',
                    'دعم Hi-Res Audio',
                    'بطارية تدوم حتى 30 ساعة',
                    'دعم Multipoint للاتصال بجهازين',
                    'تصميم مريح وخفيف الوزن'
                ],
                specifications: {
                    'نوع السماعات': 'مغناطيسية مغلقة',
                    'قطر السماعة': '30mm',
                    'نطاق التردد': '4Hz - 40,000Hz',
                    'البطارية': 'تدوم حتى 30 ساعة مع إلغاء الضوضاء',
                    'زمن الشحن': '3 ساعات للشحن الكامل، 3 دقائق لـ 3 ساعات تشغيل',
                    'الاتصال': 'Bluetooth 5.2، SBC، AAC، LDAC',
                    'الوزن': '250g',
                    'الميكروفونات': 'ميكروفونات متعددة للمكالمات الواضحة'
                },
                reviews: [
                    {
                        name: 'خالد الشمري',
                        rating: 4,
                        date: '2023-10-14',
                        text: 'سماعات ممتازة لإلغاء الضوضاء. الصوت واضح ونقي.'
                    },
                    {
                        name: 'سارة العلي',
                        rating: 4,
                        date: '2023-10-08',
                        text: 'استخدمها في السفر والعمل. إلغاء الضوضاء فعال جداً.'
                    },
                    {
                        name: 'أحمد الغامدي',
                        rating: 4,
                        date: '2023-10-01',
                        text: 'جودة الصوت ممتازة لكنها أغلى قليلاً من المنافسين.'
                    }
                ]
            },
            {
                id: 7,
                name: 'سوني A7R V',
                brand: 'Sony',
                category: 'cameras',
                price: 24999,
                originalPrice: null,
                rating: 5,
                reviews: 21,
                image: 'https://placehold.co/300x250/0d1b2a/4cc9f0?text=Sony+A7R+V',
                images: [
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=Sony+A7R+V',
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=Sony+A7R+V+Back',
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=Sony+A7R+V+Side'
                ],
                badge: 'جديد',
                description: 'كاميرا سوني A7R V بمستشعر 61 ميجابكسل ومعالج BIONZ XR.',
                detailedDescription: 'سوني A7R V هي أحدث كاميرا بدون مرآة من سوني بمستشعر Exmor R CMOS بدقة 61 ميجابكسل. تعمل بمعالج BIONZ XR الجديد الذي يقدم أداءً استثنائياً في معالجة الصور. نظام تثبيت الصور البصري بخمس محاور وتقنية التركيز التلقائي المتقدمة مع 693 نقطة تركيز.',
                features: [
                    'مستشعر Exmor R CMOS بدقة 61 ميجابكسل',
                    'معالج BIONZ XR الجديد',
                    'نظام تثبيت الصور البصري بخمس محاور',
                    'نظام التركيز التلقائي المتقدم مع 693 نقطة تركيز',
                    'شاشة LCD قابلة للإمالة بحجم 3.2 بوصة',
                    'تسجيل فيديو 8K'
                ],
                specifications: {
                    'المستشعر': 'Exmor R CMOS، 35mm Full Frame، 61 ميجابكسل',
                    'المعالج': 'BIONZ XR',
                    'نطاق ISO': '100 - 32000 (قابل للتوسيع إلى 50 - 102400)',
                    'نطاق التركيز التلقائي': '693 نقطة تركيز طور الطور و 425 نقطة تركيز اكتشاف التباين',
                    'الغالق': '30 - 1/8000 ثانية',
                    'التسجيل': '8K at 24p، 4K at 60p',
                    'الشاشة': 'LCD، 3.2 بوصة، 2.1 مليون نقطة، قابلة للإمالة',
                    'منفذ الذاكرة': '2 منفذ CFexpress Type A / SD'
                },
                reviews: [
                    {
                        name: 'عبدالرحمن السعيد',
                        rating: 5,
                        date: '2023-11-02',
                        text: 'أفضل كاميرا استخدمتها! جودة الصور مذهلة والأداء سريع جداً.'
                    },
                    {
                        name: 'نورة الحربي',
                        rating: 5,
                        date: '2023-10-28',
                        text: 'الكاميرا ممتازة للتصوير الفوتوغرافي الاحترافي. التركيز التلقائي سريع ودقيق.'
                    },
                    {
                        name: 'فهد العنزي',
                        rating: 5,
                        date: '2023-10-20',
                        text: 'تحسن كبير عن A7R IV. معالج BIONZ XR يقدم أداءً أفضل بكثير.'
                    }
                ]
            },
            {
                id: 8,
                name: 'بلاي ستيشن 5',
                brand: 'Sony',
                category: 'gaming',
                price: 12999,
                originalPrice: 14999,
                rating: 4.5,
                reviews: 87,
                image: 'https://placehold.co/300x250/0d1b2a/4cc9f0?text=PlayStation+5',
                images: [
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=PlayStation+5',
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=PlayStation+5+Back',
                    'https://placehold.co/300x250/0d1b2a/4cc9f0?text=PlayStation+5+Side'
                ],
                badge: null,
                description: 'جهاز بلاي ستيشن 5 مع معالج مخصص وذاكرة GDDR6 سريعة.',
                detailedDescription: 'بلاي ستيشن 5 هو أحدث جهاز ألعاب من سوني مع معالج مخصص وذاكرة GDDR6 سريعة. يدعم ألعاب 4K بمعدل 120 إطارًا في الثانية وتقنية تتبع الأشعة. يأتي مع وحدة تحكم DualSense مع ملاحظات لمسية متقدمة وزناد تكيفي. مساحة تخزين SSD سريعة 825GB.',
                features: [
                    'معالج مخصص مع 8 نوى CPU و 10.28 TFLOPS GPU',
                    'ذاكرة GDDR6 سريعة 16GB',
                    'مساحة تخزين SSD سريعة 825GB',
                    'دعم ألعاب 4K بمعدل 120 إطارًا في الثانية',
                    'تقنية تتبع الأشعة',
                    'وحدة تحكم DualSense مع ملاحظات لمسية متقدمة'
                ],
                specifications: {
                    'المعالج': 'معالج مخصص مع 8 نوى CPU متغيرة السرعة (3.5GHz) و 10.28 TFLOPS GPU',
                    'الذاكرة': '16GB GDDR6',
                    'التخزين': '825GB SSD قابل للتوسيع',
                    'دقة الفيديو': '4K @ 120Hz، 8K',
                    'المنافذ': 'USB-C (USB 3.2 Gen 2)، USB-A (USB 3.2 Gen 1)، HDMI 2.1',
                    'الاتصال': 'Wi-Fi 6، Bluetooth 5.1',
                    'الأبعاد': '390 × 104 × 260 ملم',
                    'الوزن': '4.5 كجم'
                },
                reviews: [
                    {
                        name: 'سالم الدوسري',
                        rating: 5,
                        date: '2023-10-25',
                        text: 'أفضل جهاز ألعاب في السوق! الأداء مذهل والألعاب تبدو رائعة.'
                    },
                    {
                        name: 'مشاري الشمري',
                        rating: 4,
                        date: '2023-10-18',
                        text: 'جهاز رائع لكنه كبير الحجم بعض الشيء. وحدة التحكم DualSense مذهلة.'
                    },
                    {
                        name: 'فهد العتيبي',
                        rating: 5,
                        date: '2023-10-10',
                        text: 'تحسن كبير عن PS4. أوقات التحميل سريعة جداً بفضل الـ SSD.'
                    }
                ]
            }
        ];
        
        // DOM Elements
        const userAvatar = document.getElementById('user-avatar');
        const userProfile = document.getElementById('user-profile');
        const profileDropdown = document.getElementById('profile-dropdown');
        const loginLink = document.getElementById('login-link');
        const loginModal = document.getElementById('login-modal');
        const registerModal = document.getElementById('register-modal');
        const smsVerificationModal = document.getElementById('sms-verification-modal');
        const closeLogin = document.getElementById('close-login');
        const closeRegister = document.getElementById('close-register');
        const closeSmsVerification = document.getElementById('close-sms-verification');
        const showRegister = document.getElementById('show-register');
        const showLogin = document.getElementById('show-login');
        const loginBtn = document.getElementById('login-btn');
        const registerBtn = document.getElementById('register-btn');
        const googleLogin = document.getElementById('google-login');
        const phoneLogin = document.getElementById('phone-login');
        const verifySmsCode = document.getElementById('verify-sms-code');
        const resendSmsCode = document.getElementById('resend-sms-code');
        const countdownElement = document.getElementById('countdown');
        const phoneDisplay = document.getElementById('phone-display');
        const cartIcon = document.getElementById('cart-icon');
        const wishlistIcon = document.getElementById('wishlist-icon');
        const cartModal = document.getElementById('cart-modal');
        const wishlistModal = document.getElementById('wishlist-modal');
        const closeCart = document.getElementById('close-cart');
        const closeWishlist = document.getElementById('close-wishlist');
        const overlay = document.getElementById('overlay');
        const cartItems = document.getElementById('cart-items');
        const wishlistItems = document.getElementById('wishlist-items');
        const emptyCart = document.getElementById('empty-cart');
        const emptyWishlist = document.getElementById('empty-wishlist');
        const cartFooter = document.getElementById('cart-footer');
        const totalPrice = document.getElementById('total-price');
        const cartCount = document.querySelector('.cart-count');
        const wishlistCount = document.querySelector('.wishlist-count');
        const checkoutBtn = document.getElementById('checkout-btn');
        
        // Product Detail Modal Elements
        const productDetailModal = document.getElementById('product-detail-modal');
        const closeProductDetail = document.getElementById('close-product-detail');
        const mainImage = document.getElementById('main-image');
        const thumbnailImages = document.getElementById('thumbnail-images');
        const productDetailBrand = document.getElementById('product-detail-brand');
        const productDetailTitle = document.getElementById('product-detail-title');
        const productDetailRating = document.getElementById('product-detail-rating');
        const productDetailCurrentPrice = document.getElementById('product-detail-current-price');
        const productDetailOriginalPrice = document.getElementById('product-detail-original-price');
        const productDetailDiscount = document.getElementById('product-detail-discount');
        const productDetailDescription = document.getElementById('product-detail-description');
        const productDetailFeatures = document.getElementById('product-detail-features');
        const addToCartDetail = document.getElementById('add-to-cart-detail');
        const wishlistDetail = document.getElementById('wishlist-detail');
        const compareDetail = document.getElementById('compare-detail');
        const detailedDescription = document.getElementById('detailed-description');
        const specificationsTable = document.getElementById('specifications-table');
        const reviewsList = document.getElementById('reviews-list');
        const averageScore = document.getElementById('average-score');
        const averageStars = document.getElementById('average-stars');
        const reviewCount = document.getElementById('review-count');
        const ratingInput = document.getElementById('rating-input');
        const reviewTextarea = document.getElementById('review-textarea');
        const submitReview = document.getElementById('submit-review');
        
        // Search Elements
        const searchBar = document.getElementById('search-bar');
        const searchResults = document.getElementById('search-results');
        
        // Filter Elements
        const filterToggle = document.getElementById('filter-toggle');
        const filterContent = document.getElementById('filter-content');
        const applyFilter = document.getElementById('apply-filter');
        const resetFilter = document.getElementById('reset-filter');
        const resultsCount = document.getElementById('results-count');
        
        // Sort Elements
        const sortButton = document.getElementById('sort-button');
        const sortOptions = document.getElementById('sort-options');
        
        // Compare Elements
        const compareSection = document.getElementById('compare-section');
        const compareItems = document.getElementById('compare-items');
        const compareCount = document.getElementById('compare-count');
        const compareActions = document.getElementById('compare-actions');
        const compareButton = document.getElementById('compare-button');
        const clearCompare = document.getElementById('clear-compare');
        const emptyCompare = document.getElementById('empty-compare');
        
        // Notification Elements
        const notificationToast = document.getElementById('notification-toast');
        const notificationIcon = document.getElementById('notification-icon');
        const notificationTitle = document.getElementById('notification-title');
        const notificationMessage = document.getElementById('notification-message');
        const notificationClose = document.getElementById('notification-close');
        
        // Form elements
        const loginEmail = document.getElementById('login-email');
        const loginPassword = document.getElementById('login-password');
        const registerName = document.getElementById('register-name');
        const registerEmail = document.getElementById('register-email');
        const registerPhone = document.getElementById('register-phone');
        const registerPassword = document.getElementById('register-password');
        const registerConfirmPassword = document.getElementById('register-confirm-password');
        
        // SMS Code input elements
        const smsCodeInputs = [
            document.getElementById('sms-code-1'),
            document.getElementById('sms-code-2'),
            document.getElementById('sms-code-3'),
            document.getElementById('sms-code-4'),
            document.getElementById('sms-code-5'),
            document.getElementById('sms-code-6')
        ];
        
        // Initialize from localStorage
        function initUser() {
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateUserUI();
            }
            
            // Load cart and wishlist from localStorage
            const savedCart = localStorage.getItem('cart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
                updateCartDisplay();
            }
            
            const savedWishlist = localStorage.getItem('wishlist');
            if (savedWishlist) {
                wishlist = JSON.parse(savedWishlist);
                updateWishlistDisplay();
                updateWishlistCount();
                updateProductWishlistButtons();
            }
        }
        
        // Update user interface based on login status
        function updateUserUI() {
            if (currentUser) {
                const initials = currentUser.name.split(' ').map(n => n[0]).join('').substring(0, 2).toUpperCase();
                userAvatar.textContent = initials;
                userAvatar.style.background = 'linear-gradient(45deg, #4cc9f0, #4361ee)';
                
                profileDropdown.innerHTML = `
                    <div class="profile-header">
                        <h4>${currentUser.name}</h4>
                        <p>${currentUser.email || currentUser.phone}</p>
                    </div>
                    <div class="profile-links">
                        <a href="#"><i class="fas fa-user"></i> ملفي الشخصي</a>
                        <a href="#"><i class="fas fa-shopping-cart"></i> طلباتي</a>
                        <a href="#"><i class="fas fa-heart"></i> المفضلة</a>
                        <a href="#" id="logout-link"><i class="fas fa-sign-out-alt"></i> تسجيل الخروج</a>
                    </div>
                `;
                
                document.getElementById('logout-link').addEventListener('click', logout);
            } else {
                userAvatar.textContent = 'ض';
                userAvatar.style.background = 'linear-gradient(45deg, #4cc9f0, #4361ee)';
                profileDropdown.innerHTML = `
                    <div class="profile-header">
                        <h4>تسجيل الدخول</h4>
                        <p>للوصول إلى حسابك</p>
                    </div>
                    <div class="profile-links">
                        <a href="#" id="login-link"><i class="fas fa-sign-in-alt"></i> تسجيل الدخول</a>
                    </div>
                `;
                document.getElementById('login-link').addEventListener('click', openLoginModal);
            }
        }
        
        // Modal functions
        function openLoginModal() {
            loginModal.classList.add('open');
            overlay.classList.add('active');
        }
        
        function openRegisterModal() {
            registerModal.classList.add('open');
            overlay.classList.add('active');
        }
        
        function openSmsVerification(phone, name, email, password) {
            tempUserData = { phone, name, email, password };
            phoneDisplay.textContent = phone;
            smsVerificationModal.classList.add('open');
            overlay.classList.add('active');
            setupCodeInputs(smsCodeInputs);
            startCountdown();
        }
        
        function closeAllModals() {
            loginModal.classList.remove('open');
            registerModal.classList.remove('open');
            smsVerificationModal.classList.remove('open');
            cartModal.classList.remove('open');
            wishlistModal.classList.remove('open');
            productDetailModal.classList.remove('open');
            overlay.classList.remove('active');
            
            // Clear countdown timer
            if (countdownTimer) {
                clearInterval(countdownTimer);
                countdownTimer = null;
            }
        }
        
        // Setup code input functionality
        function setupCodeInputs(inputs) {
            inputs.forEach((input, index) => {
                input.value = '';
                input.addEventListener('input', (e) => {
                    if (e.target.value.length === 1 && index < inputs.length - 1) {
                        inputs[index + 1].focus();
                    }
                });
                
                input.addEventListener('keydown', (e) => {
                    if (e.key === 'Backspace' && e.target.value === '' && index > 0) {
                        inputs[index - 1].focus();
                    }
                });
            });
            
            if (inputs.length > 0) {
                inputs[0].focus();
            }
        }
        
        // Get code from inputs
        function getCodeFromInputs(inputs) {
            return inputs.map(input => input.value).join('');
        }
        
        // Countdown timer for resend
        function startCountdown() {
            countdownValue = 30;
            countdownElement.textContent = countdownValue;
            resendSmsCode.disabled = true;
            
            countdownTimer = setInterval(() => {
                countdownValue--;
                countdownElement.textContent = countdownValue;
                
                if (countdownValue <= 0) {
                    clearInterval(countdownTimer);
                    resendSmsCode.disabled = false;
                }
            }, 1000);
        }
        
        // Registration functions
        function registerUser() {
            const name = registerName.value.trim();
            const email = registerEmail.value.trim();
            const phone = registerPhone.value.trim();
            const password = registerPassword.value;
            const confirmPassword = registerConfirmPassword.value;
            
            // Validation
            if (!name || !email || !phone || !password || !confirmPassword) {
                showNotification('error', 'خطأ', 'يرجى ملء جميع الحقول');
                return;
            }
            
            if (password !== confirmPassword) {
                showNotification('error', 'خطأ', 'كلمة المرور وتأكيد كلمة المرور غير متطابقين');
                return;
            }
            
            if (password.length < 6) {
                showNotification('error', 'خطأ', 'كلمة المرور يجب أن تكون على الأقل 6 أحرف');
                return;
            }
            
            if (!/^\d{11}$/.test(phone)) {
                showNotification('error', 'خطأ', 'يرجى إدخال رقم هاتف صحيح (11 رقم)');
                return;
            }
            
            if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                showNotification('error', 'خطأ', 'يرجى إدخال بريد إلكتروني صحيح');
                return;
            }
            
            // Simulate sending SMS verification code
            showNotification('info', 'رمز التحقق', `تم إرسال رمز التحقق إلى رقم الهاتف: ${phone} عبر الرسائل النصية`);
            
            // Close register modal and open SMS verification
            registerModal.classList.remove('open');
            openSmsVerification(phone, name, email, password);
        }
        
        function verifySmsCodeHandler() {
            const code = getCodeFromInputs(smsCodeInputs);
            if (code.length !== 6) {
                showNotification('error', 'خطأ', 'يرجى إدخال رمز التحقق الكامل المكون من 6 أرقام');
                return;
            }
            
            // Simulate SMS verification (in real app, this would be validated server-side)
            // For demo purposes, we'll accept any 6-digit code
            if (/^\d{6}$/.test(code)) {
                // Create user account
                currentUser = {
                    name: tempUserData.name,
                    email: tempUserData.email,
                    phone: tempUserData.phone
                };
                
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                updateUserUI();
                closeAllModals();
                showNotification('success', 'نجاح', 'تم إنشاء حسابك بنجاح! مرحبًا بك في الأشراف.');
            } else {
                showNotification('error', 'خطأ', 'رمز التحقق غير صحيح. يرجى إدخال 6 أرقام.');
            }
        }
        
        function resendSmsCodeHandler() {
            if (countdownValue > 0) return;
            
            showNotification('info', 'رمز التحقق', `تم إعادة إرسال رمز التحقق إلى: ${tempUserData?.phone}`);
            startCountdown();
        }
        
        // Login functions
        function loginUser() {
            const identifier = loginEmail.value.trim();
            const password = loginPassword.value;
            
            if (!identifier || !password) {
                showNotification('error', 'خطأ', 'يرجى إدخال البريد الإلكتروني/رقم الهاتف وكلمة المرور');
                return;
            }
            
            // Simulate login (in real app, this would be validated server-side)
            currentUser = {
                name: identifier.includes('@') ? identifier.split('@')[0] : 'مستخدم',
                email: identifier.includes('@') ? identifier : null,
                phone: identifier.includes('@') ? null : identifier
            };
            
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            updateUserUI();
            closeAllModals();
            showNotification('success', 'نجاح', 'تم تسجيل الدخول بنجاح!');
        }
        
        function loginWithGoogle() {
            currentUser = {
                name: 'مستخدم جوجل',
                email: 'user@gmail.com',
                phone: null
            };
            
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            updateUserUI();
            closeAllModals();
            showNotification('success', 'نجاح', 'تم تسجيل الدخول بـ Google بنجاح!');
        }
        
        function loginWithPhone() {
            // This would typically open a phone verification flow
            showNotification('info', 'تسجيل الدخول', 'في تطبيق حقيقي، سيتم إرسال رمز تحقق إلى هاتفك عبر الرسائل النصية');
            currentUser = {
                name: 'مستخدم الهاتف',
                email: null,
                phone: '010XXXXXXXX'
            };
            
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            updateUserUI();
            closeAllModals();
            showNotification('success', 'نجاح', 'تم تسجيل الدخول بنجاح!');
        }
        
        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            updateUserUI();
            showNotification('info', 'تسجيل الخروج', 'تم تسجيل الخروج بنجاح!');
        }
        
        // Event Listeners
        loginLink.addEventListener('click', openLoginModal);
        showRegister.addEventListener('click', () => {
            loginModal.classList.remove('open');
            openRegisterModal();
        });
        showLogin.addEventListener('click', () => {
            registerModal.classList.remove('open');
            openLoginModal();
        });
        
        closeLogin.addEventListener('click', closeAllModals);
        closeRegister.addEventListener('click', closeAllModals);
        closeSmsVerification.addEventListener('click', closeAllModals);
        closeProductDetail.addEventListener('click', closeAllModals);
        overlay.addEventListener('click', closeAllModals);
        
        loginBtn.addEventListener('click', loginUser);
        registerBtn.addEventListener('click', registerUser);
        googleLogin.addEventListener('click', loginWithGoogle);
        phoneLogin.addEventListener('click', loginWithPhone);
        verifySmsCode.addEventListener('click', verifySmsCodeHandler);
        resendSmsCode.addEventListener('click', resendSmsCodeHandler);
        
        // Profile dropdown toggle
        userProfile.addEventListener('click', (e) => {
            e.stopPropagation();
            profileDropdown.classList.toggle('open');
        });
        
        document.addEventListener('click', (e) => {
            if (!userProfile.contains(e.target)) {
                profileDropdown.classList.remove('open');
            }
        });
        
        // Shopping Cart and Wishlist Functionality
        cartIcon.addEventListener('click', () => {
            if (!currentUser) {
                showNotification('info', 'تسجيل الدخول', 'يرجى تسجيل الدخول أولاً لعرض سلة المشتريات');
                openLoginModal();
                return;
            }
            cartModal.classList.add('open');
            overlay.classList.add('active');
            updateCartDisplay();
        });
        
        wishlistIcon.addEventListener('click', () => {
            if (!currentUser) {
                showNotification('info', 'تسجيل الدخول', 'يرجى تسجيل الدخول أولاً لعرض قائمة المفضلة');
                openLoginModal();
                return;
            }
            wishlistModal.classList.add('open');
            overlay.classList.add('active');
            updateWishlistDisplay();
        });
        
        closeCart.addEventListener('click', () => {
            cartModal.classList.remove('open');
            overlay.classList.remove('active');
        });
        
        closeWishlist.addEventListener('click', () => {
            wishlistModal.classList.remove('open');
            overlay.classList.remove('active');
        });
        
        // Search Functionality
        searchBar.addEventListener('input', (e) => {
            const searchTerm = e.target.value.trim();
            
            if (searchTerm.length > 0) {
                const searchResults = products.filter(product => 
                    product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    product.brand.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    product.category.toLowerCase().includes(searchTerm.toLowerCase())
                );
                
                displaySearchResults(searchResults);
            } else {
                searchResults.classList.remove('active');
            }
        });
        
        searchBar.addEventListener('focus', (e) => {
            if (e.target.value.trim().length > 0) {
                const searchTerm = e.target.value.trim();
                const searchResults = products.filter(product => 
                    product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    product.brand.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    product.category.toLowerCase().includes(searchTerm.toLowerCase())
                );
                
                displaySearchResults(searchResults);
            }
        });
        
        document.addEventListener('click', (e) => {
            if (!searchBar.contains(e.target) && !searchResults.contains(e.target)) {
                searchResults.classList.remove('active');
            }
        });
        
        function displaySearchResults(results) {
            searchResults.innerHTML = '';
            
            if (results.length === 0) {
                searchResults.innerHTML = '<div class="search-result-item">لا توجد نتائج</div>';
            } else {
                results.slice(0, 5).forEach(product => {
                    const resultItem = document.createElement('div');
                    resultItem.className = 'search-result-item';
                    resultItem.innerHTML = `
                        <div class="search-result-name">${product.name}</div>
                        <div class="search-result-price">${product.price.toLocaleString()} ج.م</div>
                    `;
                    resultItem.addEventListener('click', () => {
                        openProductDetail(product.id);
                        searchResults.classList.remove('active');
                        searchBar.value = '';
                    });
                    searchResults.appendChild(resultItem);
                });
            }
            
            searchResults.classList.add('active');
        }
        
        // Filter Functionality
        filterToggle.addEventListener('click', () => {
            filterContent.style.display = filterContent.style.display === 'none' ? 'grid' : 'none';
            const icon = filterToggle.querySelector('i');
            icon.className = filterContent.style.display === 'none' ? 'fas fa-chevron-down' : 'fas fa-chevron-up';
        });
        
        applyFilter.addEventListener('click', () => {
            // Get selected categories
            const categoryCheckboxes = document.querySelectorAll('.filter-checkbox[data-category]:checked');
            activeFilters.categories = Array.from(categoryCheckboxes).map(cb => cb.dataset.category);
            
            // Get selected brands
            const brandCheckboxes = document.querySelectorAll('.filter-checkbox[data-brand]:checked');
            activeFilters.brands = Array.from(brandCheckboxes).map(cb => cb.dataset.brand);
            
            // Get price range
            activeFilters.minPrice = document.getElementById('min-price').value ? parseInt(document.getElementById('min-price').value) : null;
            activeFilters.maxPrice = document.getElementById('max-price').value ? parseInt(document.getElementById('max-price').value) : null;
            
            // Get rating
            const ratingCheckboxes = document.querySelectorAll('.filter-checkbox[data-rating]:checked');
            activeFilters.rating = ratingCheckboxes.length > 0 ? Math.min(...Array.from(ratingCheckboxes).map(cb => parseInt(cb.dataset.rating))) : null;
            
            // Apply filters
            filterProducts();
        });
        
        resetFilter.addEventListener('click', () => {
            // Reset all filters
            document.querySelectorAll('.filter-checkbox').forEach(cb => cb.checked = false);
            document.getElementById('min-price').value = '';
            document.getElementById('max-price').value = '';
            
            activeFilters = {
                categories: [],
                brands: [],
                minPrice: null,
                maxPrice: null,
                rating: null
            };
            
            // Reset to default view
            displayProducts(products);
            updateResultsCount(products.length);
        });
        
        function filterProducts() {
            let filteredProducts = [...products];
            
            // Filter by category
            if (activeFilters.categories.length > 0) {
                filteredProducts = filteredProducts.filter(product => 
                    activeFilters.categories.includes(product.category)
                );
            }
            
            // Filter by brand
            if (activeFilters.brands.length > 0) {
                filteredProducts = filteredProducts.filter(product => 
                    activeFilters.brands.includes(product.brand)
                );
            }
            
            // Filter by price
            if (activeFilters.minPrice !== null) {
                filteredProducts = filteredProducts.filter(product => 
                    product.price >= activeFilters.minPrice
                );
            }
            
            if (activeFilters.maxPrice !== null) {
                filteredProducts = filteredProducts.filter(product => 
                    product.price <= activeFilters.maxPrice
                );
            }
            
            // Filter by rating
            if (activeFilters.rating !== null) {
                filteredProducts = filteredProducts.filter(product => 
                    product.rating >= activeFilters.rating
                );
            }
            
            // Apply current sort
            sortProducts(filteredProducts, currentSort);
        }
        
        // Sort Functionality
        sortButton.addEventListener('click', () => {
            sortOptions.classList.toggle('active');
        });
        
        document.addEventListener('click', (e) => {
            if (!sortButton.contains(e.target) && !sortOptions.contains(e.target)) {
                sortOptions.classList.remove('active');
            }
        });
        
        document.querySelectorAll('.sort-option').forEach(option => {
            option.addEventListener('click', () => {
                // Update active state
                document.querySelectorAll('.sort-option').forEach(opt => opt.classList.remove('active'));
                option.classList.add('active');
                
                // Update current sort
                currentSort = option.dataset.sort;
                
                // Apply sort
                sortProducts();
                
                // Close dropdown
                sortOptions.classList.remove('active');
            });
        });
        
        function sortProducts(productsToSort = null, sortType = null) {
            const productsArray = productsToSort || [...products];
            const sortMethod = sortType || currentSort;
            
            switch (sortMethod) {
                case 'price-low':
                    productsArray.sort((a, b) => a.price - b.price);
                    break;
                case 'price-high':
                    productsArray.sort((a, b) => b.price - a.price);
                    break;
                case 'rating':
                    productsArray.sort((a, b) => b.rating - a.rating);
                    break;
                case 'newest':
                    productsArray.sort((a, b) => b.id - a.id);
                    break;
                default:
                    // Default sort (by id)
                    productsArray.sort((a, b) => a.id - b.id);
            }
            
            displayProducts(productsArray);
            updateResultsCount(productsArray.length);
        }
        
        function updateResultsCount(count) {
            resultsCount.textContent = `عرض ${count} منتجات`;
        }
        
        // Category Cards
        document.querySelectorAll('.category-card').forEach(card => {
            card.addEventListener('click', () => {
                const category = card.dataset.category;
                
                // Reset filters
                document.querySelectorAll('.filter-checkbox').forEach(cb => cb.checked = false);
                document.getElementById('min-price').value = '';
                document.getElementById('max-price').value = '';
                
                // Set category filter
                const categoryCheckbox = document.querySelector(`.filter-checkbox[data-category="${category}"]`);
                if (categoryCheckbox) {
                    categoryCheckbox.checked = true;
                }
                
                activeFilters = {
                    categories: [category],
                    brands: [],
                    minPrice: null,
                    maxPrice: null,
                    rating: null
                };
                
                // Apply filters
                filterProducts();
                
                // Scroll to products section
                document.getElementById('products').scrollIntoView({ behavior: 'smooth' });
            });
        });
        
        // Product Detail Modal
        function openProductDetail(productId) {
            const product = products.find(p => p.id === parseInt(productId));
            if (!product) return;
            
            currentProduct = product;
            
            // Update modal content
            productDetailBrand.textContent = product.brand;
            productDetailTitle.textContent = product.name;
            productDetailRating.innerHTML = generateStars(product.rating) + ` (${product.reviews} تقييم)`;
            productDetailCurrentPrice.textContent = `${product.price.toLocaleString()} ج.م`;
            
            if (product.originalPrice) {
                productDetailOriginalPrice.textContent = `${product.originalPrice.toLocaleString()} ج.م`;
                productDetailOriginalPrice.style.display = 'block';
                
                const discount = Math.round((1 - product.price / product.originalPrice) * 100);
                productDetailDiscount.textContent = `خصم ${discount}%`;
                productDetailDiscount.style.display = 'inline-block';
            } else {
                productDetailOriginalPrice.style.display = 'none';
                productDetailDiscount.style.display = 'none';
            }
            
            productDetailDescription.textContent = product.description;
            detailedDescription.textContent = product.detailedDescription;
            
            // Update features list
            productDetailFeatures.innerHTML = '';
            product.features.forEach(feature => {
                const li = document.createElement('li');
                li.innerHTML = `<i class="fas fa-check"></i> ${feature}`;
                productDetailFeatures.appendChild(li);
            });
            
            // Update specifications table
            specificationsTable.innerHTML = '';
            for (const [key, value] of Object.entries(product.specifications)) {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td style="font-weight: 600; padding: 8px; border-bottom: 1px solid #e9ecef;">${key}</td>
                    <td style="padding: 8px; border-bottom: 1px solid #e9ecef;">${value}</td>
                `;
                specificationsTable.appendChild(tr);
            }
            
            // Update reviews
            updateReviews(product.reviews);
            
            // Update images
            mainImage.style.backgroundImage = `url('${product.images[0]}')`;
            thumbnailImages.innerHTML = '';
            product.images.forEach((image, index) => {
                const thumbnail = document.createElement('div');
                thumbnail.className = 'thumbnail';
                if (index === 0) thumbnail.classList.add('active');
                thumbnail.style.backgroundImage = `url('${image}')`;
                thumbnail.addEventListener('click', () => {
                    mainImage.style.backgroundImage = `url('${image}')`;
                    document.querySelectorAll('.thumbnail').forEach(t => t.classList.remove('active'));
                    thumbnail.classList.add('active');
                });
                thumbnailImages.appendChild(thumbnail);
            });
            
            // Update wishlist button
            const isInWishlist = wishlist.some(item => item.id === product.id);
            if (isInWishlist) {
                wishlistDetail.classList.add('active');
                wishlistDetail.innerHTML = '<i class="fas fa-heart"></i>';
            } else {
                wishlistDetail.classList.remove('active');
                wishlistDetail.innerHTML = '<i class="far fa-heart"></i>';
            }
            
            // Update compare button
            const isInCompare = compareList.some(item => item.id === product.id);
            if (isInCompare) {
                compareDetail.classList.add('active');
            } else {
                compareDetail.classList.remove('active');
            }
            
            // Open modal
            productDetailModal.classList.add('open');
            overlay.classList.add('active');
        }
        
        function updateReviews(reviews) {
            reviewsList.innerHTML = '';
            
            reviews.forEach(review => {
                const reviewItem = document.createElement('div');
                reviewItem.className = 'review-item';
                reviewItem.innerHTML = `
                    <div class="review-header">
                        <div class="reviewer-info">
                            <div class="reviewer-avatar">${review.name.charAt(0)}</div>
                            <div class="reviewer-name">${review.name}</div>
                        </div>
                        <div class="review-date">${formatDate(review.date)}</div>
                    </div>
                    <div class="review-rating">${generateStars(review.rating)}</div>
                    <div class="review-text">${review.text}</div>
                `;
                reviewsList.appendChild(reviewItem);
            });
        }
        
        function generateStars(rating) {
            let stars = '';
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 !== 0;
            
            for (let i = 0; i < fullStars; i++) {
                stars += '<i class="fas fa-star"></i>';
            }
            
            if (hasHalfStar) {
                stars += '<i class="fas fa-star-half-alt"></i>';
            }
            
            const emptyStars = 5 - Math.ceil(rating);
            for (let i = 0; i < emptyStars; i++) {
                stars += '<i class="far fa-star"></i>';
            }
            
            return stars;
        }
        
        function formatDate(dateString) {
            const date = new Date(dateString);
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            return date.toLocaleDateString('ar-SA', options);
        }
        
        // Product Detail Event Listeners
        addToCartDetail.addEventListener('click', () => {
            if (!currentUser) {
                showNotification('info', 'تسجيل الدخول', 'يرجى تسجيل الدخول أولاً لإضافة المنتجات إلى السلة');
                openLoginModal();
                return;
            }
            
            const existingItem = cart.find(item => item.id === currentProduct.id);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    id: currentProduct.id,
                    name: currentProduct.name,
                    price: currentProduct.price,
                    image: currentProduct.image,
                    quantity: 1
                });
            }
            
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartDisplay();
            showNotification('success', 'نجاح', `تمت إضافة ${currentProduct.name} إلى سلة المشتريات`);
        });
        
        wishlistDetail.addEventListener('click', () => {
            if (!currentUser) {
                showNotification('info', 'تسجيل الدخول', 'يرجى تسجيل الدخول أولاً لإضافة المنتجات إلى المفضلة');
                openLoginModal();
                return;
            }
            
            const existingItem = wishlist.find(item => item.id === currentProduct.id);
            
            if (existingItem) {
                wishlist = wishlist.filter(item => item.id !== currentProduct.id);
                wishlistDetail.classList.remove('active');
                wishlistDetail.innerHTML = '<i class="far fa-heart"></i>';
                showNotification('info', 'المفضلة', `تمت إزالة ${currentProduct.name} من المفضلة`);
            } else {
                wishlist.push({
                    id: currentProduct.id,
                    name: currentProduct.name,
                    price: currentProduct.price,
                    image: currentProduct.image
                });
                wishlistDetail.classList.add('active');
                wishlistDetail.innerHTML = '<i class="fas fa-heart"></i>';
                showNotification('success', 'المفضلة', `تمت إضافة ${currentProduct.name} إلى المفضلة`);
            }
            
            localStorage.setItem('wishlist', JSON.stringify(wishlist));
            updateWishlistDisplay();
            updateWishlistCount();
            updateProductWishlistButtons();
        });
        
        compareDetail.addEventListener('click', () => {
            const existingItem = compareList.find(item => item.id === currentProduct.id);
            
            if (existingItem) {
                compareList = compareList.filter(item => item.id !== currentProduct.id);
                compareDetail.classList.remove('active');
                showNotification('info', 'المقارنة', `تمت إزالة ${currentProduct.name} من قائمة المقارنة`);
            } else {
                if (compareList.length >= 3) {
                    showNotification('error', 'خطأ', 'يمكنك مقارنة 3 منتجات كحد أقصى');
                    return;
                }
                
                compareList.push({
                    id: currentProduct.id,
                    name: currentProduct.name,
                    price: currentProduct.price,
                    image: currentProduct.image
                });
                compareDetail.classList.add('active');
                showNotification('success', 'المقارنة', `تمت إضافة ${currentProduct.name} إلى قائمة المقارنة`);
            }
            
            updateCompareDisplay();
        });
        
        // Tab functionality
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', () => {
                const tabName = button.dataset.tab;
                
                // Update active button
                document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                
                // Update active tab content
                document.querySelectorAll('.tab-pane').forEach(pane => pane.classList.remove('active'));
                document.getElementById(`${tabName}-tab`).classList.add('active');
            });
        });
        
        // Rating input
        document.querySelectorAll('.rating-star').forEach(star => {
            star.addEventListener('click', () => {
                userRating = parseInt(star.dataset.rating);
                updateRatingStars();
            });
        });
        
        function updateRatingStars() {
            document.querySelectorAll('.rating-star').forEach((star, index) => {
                if (index < userRating) {
                    star.classList.add('active');
                } else {
                    star.classList.remove('active');
                }
            });
        }
        
        // Submit review
        submitReview.addEventListener('click', () => {
            if (!currentUser) {
                showNotification('info', 'تسجيل الدخول', 'يرجى تسجيل الدخول أولاً لتقييم المنتجات');
                openLoginModal();
                return;
            }
            
            if (userRating === 0) {
                showNotification('error', 'خطأ', 'يرجى اختيار تقييم');
                return;
            }
            
            const reviewText = reviewTextarea.value.trim();
            if (!reviewText) {
                showNotification('error', 'خطأ', 'يرجى كتابة نص التقييم');
                return;
            }
            
            // Add review to product
            const newReview = {
                name: currentUser.name,
                rating: userRating,
                date: new Date().toISOString().split('T')[0],
                text: reviewText
            };
            
            currentProduct.reviews.push(newReview);
            
            // Update product rating
            const totalRating = currentProduct.reviews.reduce((sum, review) => sum + review.rating, 0);
            currentProduct.rating = Math.round((totalRating / currentProduct.reviews.length) * 10) / 10;
            currentProduct.reviews = currentProduct.reviews.length;
            
            // Update UI
            updateReviews(currentProduct.reviews);
            productDetailRating.innerHTML = generateStars(currentProduct.rating) + ` (${currentProduct.reviews} تقييم)`;
            
            // Reset form
            userRating = 0;
            updateRatingStars();
            reviewTextarea.value = '';
            
            showNotification('success', 'نجاح', 'تم إرسال تقييمك بنجاح');
        });
        
        // Quick view functionality
        document.querySelectorAll('.product-quick-view').forEach(button => {
            button.addEventListener('click', (e) => {
                e.stopPropagation();
                const productId = button.dataset.id;
                openProductDetail(productId);
            });
        });
        
        // Add to Cart Functionality
        document.querySelectorAll('.add-to-cart').forEach(button => {
            button.addEventListener('click', function() {
                if (!currentUser) {
                    showNotification('info', 'تسجيل الدخول', 'يرجى تسجيل الدخول أولاً لإضافة المنتجات إلى السلة');
                    openLoginModal();
                    return;
                }
                
                const productId = this.dataset.id;
                const name = this.dataset.name;
                const price = parseInt(this.dataset.price);
                const image = this.dataset.image;
                
                const existingItem = cart.find(item => item.id === productId);
                
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    cart.push({
                        id: productId,
                        name: name,
                        price: price,
                        image: image,
                        quantity: 1
                    });
                }
                
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartDisplay();
                showAddedMessage(this);
            });
        });
        
        // Wishlist Functionality
        document.querySelectorAll('.wishlist-btn').forEach(button => {
            button.addEventListener('click', function() {
                if (!currentUser) {
                    showNotification('info', 'تسجيل الدخول', 'يرجى تسجيل الدخول أولاً لإضافة المنتجات إلى المفضلة');
                    openLoginModal();
                    return;
                }
                
                const productId = this.dataset.id;
                const name = this.dataset.name;
                const price = parseInt(this.dataset.price);
                const image = this.dataset.image;
                const icon = this.querySelector('i');
                
                const existingItem = wishlist.find(item => item.id === productId);
                
                if (existingItem) {
                    wishlist = wishlist.filter(item => item.id !== productId);
                    icon.classList.remove('fas');
                    icon.classList.add('far');
                    this.classList.remove('active');
                    showNotification('info', 'المفضلة', `تمت إزالة ${name} من المفضلة`);
                } else {
                    wishlist.push({
                        id: productId,
                        name: name,
                        price: price,
                        image: image
                    });
                    icon.classList.remove('far');
                    icon.classList.add('fas');
                    this.classList.add('active');
                    showNotification('success', 'المفضلة', `تمت إضافة ${name} إلى المفضلة`);
                }
                
                localStorage.setItem('wishlist', JSON.stringify(wishlist));
                updateWishlistDisplay();
                updateWishlistCount();
            });
        });
        
        // Compare Functionality
        document.querySelectorAll('.compare-btn').forEach(button => {
            button.addEventListener('click', function() {
                const productId = this.dataset.id;
                const name = this.dataset.name;
                const price = parseInt(this.dataset.price);
                const image = this.dataset.image;
                
                const existingItem = compareList.find(item => item.id === productId);
                
                if (existingItem) {
                    compareList = compareList.filter(item => item.id !== productId);
                    this.classList.remove('active');
                    showNotification('info', 'المقارنة', `تمت إزالة ${name} من قائمة المقارنة`);
                } else {
                    if (compareList.length >= 3) {
                        showNotification('error', 'خطأ', 'يمكنك مقارنة 3 منتجات كحد أقصى');
                        return;
                    }
                    
                    compareList.push({
                        id: productId,
                        name: name,
                        price: price,
                        image: image
                    });
                    this.classList.add('active');
                    showNotification('success', 'المقارنة', `تمت إضافة ${name} إلى قائمة المقارنة`);
                }
                
                updateCompareDisplay();
            });
        });
        
        // Update Cart Display
        function updateCartDisplay() {
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            cartCount.textContent = totalItems;
            
            cartItems.innerHTML = '';
            
            if (cart.length === 0) {
                cartItems.appendChild(emptyCart);
                cartFooter.style.display = 'none';
                return;
            }
            
            cart.forEach((item, index) => {
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div class="cart-item-image" style="background-image: url('${item.image}')"></div>
                    <div class="cart-item-info">
                        <div class="cart-item-name">${item.name}</div>
                        <div class="cart-item-price">${item.price.toLocaleString()} ج.م</div>
                        <div class="cart-item-quantity">
                            <button class="quantity-btn decrease" data-index="${index}">-</button>
                            <span class="quantity-value">${item.quantity}</span>
                            <button class="quantity-btn increase" data-index="${index}">+</button>
                        </div>
                        <button class="remove-item" data-index="${index}">إزالة</button>
                    </div>
                `;
                cartItems.appendChild(cartItem);
            });
            
            cartFooter.style.display = 'block';
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            totalPrice.textContent = `${total.toLocaleString()} ج.م`;
            
            // Add event listeners
            document.querySelectorAll('.decrease').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const index = e.target.dataset.index;
                    if (cart[index].quantity > 1) {
                        cart[index].quantity -= 1;
                    } else {
                        cart.splice(index, 1);
                    }
                    localStorage.setItem('cart', JSON.stringify(cart));
                    updateCartDisplay();
                });
            });
            
            document.querySelectorAll('.increase').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const index = e.target.dataset.index;
                    cart[index].quantity += 1;
                    localStorage.setItem('cart', JSON.stringify(cart));
                    updateCartDisplay();
                });
            });
            
            document.querySelectorAll('.remove-item').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const index = e.target.dataset.index;
                    cart.splice(index, 1);
                    localStorage.setItem('cart', JSON.stringify(cart));
                    updateCartDisplay();
                });
            });
        }
        
        // Update Wishlist Display
        function updateWishlistDisplay() {
            wishlistItems.innerHTML = '';
            
            if (wishlist.length === 0) {
                wishlistItems.appendChild(emptyWishlist);
                return;
            }
            
            wishlist.forEach((item, index) => {
                const wishlistItem = document.createElement('div');
                wishlistItem.className = 'wishlist-item';
                wishlistItem.innerHTML = `
                    <div class="wishlist-item-image" style="background-image: url('${item.image}')"></div>
                    <div class="wishlist-item-info">
                        <div class="wishlist-item-name">${item.name}</div>
                        <div class="wishlist-item-price">${item.price.toLocaleString()} ج.م</div>
                        <button class="remove-wishlist" data-index="${index}">إزالة من المفضلة</button>
                    </div>
                `;
                wishlistItems.appendChild(wishlistItem);
            });
            
            document.querySelectorAll('.remove-wishlist').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const index = e.target.dataset.index;
                    wishlist.splice(index, 1);
                    localStorage.setItem('wishlist', JSON.stringify(wishlist));
                    updateWishlistDisplay();
                    updateWishlistCount();
                    updateProductWishlistButtons();
                });
            });
        }
        
        function updateWishlistCount() {
            wishlistCount.textContent = wishlist.length;
        }
        
        function updateProductWishlistButtons() {
            document.querySelectorAll('.wishlist-btn').forEach(button => {
                const productId = button.dataset.id;
                const icon = button.querySelector('i');
                const isInWishlist = wishlist.some(item => item.id === productId);
                
                if (isInWishlist) {
                    icon.classList.remove('far');
                    icon.classList.add('fas');
                    button.classList.add('active');
                } else {
                    icon.classList.remove('fas');
                    icon.classList.add('far');
                    button.classList.remove('active');
                }
            });
        }
        
        // Update Compare Display
        function updateCompareDisplay() {
            compareCount.textContent = `${compareList.length} منتجات`;
            
            if (compareList.length === 0) {
                compareItems.innerHTML = '<div class="empty-compare" id="empty-compare"><p>لم يتم اختيار أي منتجات للمقارنة</p></div>';
                compareActions.style.display = 'none';
                compareSection.style.display = 'none';
                return;
            }
            
            compareSection.style.display = 'block';
            compareItems.innerHTML = '';
            
            compareList.forEach((item, index) => {
                const compareItem = document.createElement('div');
                compareItem.className = 'compare-item';
                compareItem.innerHTML = `
                    <button class="remove-compare" data-index="${index}">&times;</button>
                    <div class="compare-item-image" style="background-image: url('${item.image}')"></div>
                    <div class="compare-item-name">${item.name}</div>
                    <div class="compare-item-price">${item.price.toLocaleString()} ج.م</div>
                `;
                compareItems.appendChild(compareItem);
            });
            
            compareActions.style.display = 'flex';
            
            // Add event listeners
            document.querySelectorAll('.remove-compare').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const index = e.target.dataset.index;
                    const removedItem = compareList[index];
                    compareList.splice(index, 1);
                    
                    // Update button state
                    document.querySelectorAll('.compare-btn').forEach(button => {
                        if (button.dataset.id === removedItem.id) {
                            button.classList.remove('active');
                        }
                    });
                    
                    updateCompareDisplay();
                });
            });
        }
        
        // Compare button
        compareButton.addEventListener('click', () => {
            if (compareList.length < 2) {
                showNotification('error', 'خطأ', 'يرجى اختيار منتجين على الأقل للمقارنة');
                return;
            }
            
            // In a real app, this would navigate to a comparison page
            showNotification('info', 'المقارنة', 'سيتم فتح صفحة المقارنة قريباً');
        });
        
        // Clear compare button
        clearCompare.addEventListener('click', () => {
            compareList = [];
            
            // Update button states
            document.querySelectorAll('.compare-btn').forEach(button => {
                button.classList.remove('active');
            });
            
            updateCompareDisplay();
        });
        
        function showAddedMessage(button) {
            const originalText = button.textContent;
            button.textContent = 'تم الإضافة!';
            button.style.background = 'linear-gradient(45deg, #4ade80, #22c55e)';
            
            setTimeout(() => {
                button.textContent = originalText;
                button.style.background = 'linear-gradient(45deg, #4cc9f0, #4361ee)';
            }, 2000);
        }
        
        checkoutBtn.addEventListener('click', () => {
            if (cart.length === 0) return;
            
            let message = 'مرحباً، أريد طلب المنتجات التالية:\n\n';
            cart.forEach(item => {
                message += `• ${item.name} × ${item.quantity} = ${(item.price * item.quantity).toLocaleString()} ج.م\n`;
            });
            
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            message += `\nالإجمالي: ${total.toLocaleString()} ج.م\n\n`;
            message += 'من فضلك تواصل معي لتأكيد الطلب.';
            
            const whatsappUrl = `https://wa.me/010XXXXXXXX?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
            
            cartModal.classList.remove('open');
            overlay.classList.remove('active');
            
            cart = [];
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartDisplay();
        });
        
        // Notification Toast
        function showNotification(type, title, message) {
            notificationTitle.textContent = title;
            notificationMessage.textContent = message;
            
            // Update icon and color based on type
            notificationIcon.className = 'notification-icon';
            switch (type) {
                case 'success':
                    notificationIcon.classList.add('success');
                    notificationIcon.innerHTML = '<i class="fas fa-check"></i>';
                    break;
                case 'error':
                    notificationIcon.classList.add('error');
                    notificationIcon.innerHTML = '<i class="fas fa-times"></i>';
                    break;
                case 'info':
                    notificationIcon.classList.add('info');
                    notificationIcon.innerHTML = '<i class="fas fa-info"></i>';
                    break;
            }
            
            // Show notification
            notificationToast.classList.add('show');
            
            // Auto hide after 5 seconds
            setTimeout(() => {
                notificationToast.classList.remove('show');
            }, 5000);
        }
        
        notificationClose.addEventListener('click', () => {
            notificationToast.classList.remove('show');
        });
        
        // Display products
        function displayProducts(productsToDisplay) {
            const productsGrid = document.getElementById('products-grid');
            productsGrid.innerHTML = '';
            
            productsToDisplay.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.dataset.id = product.id;
                productCard.dataset.category = product.category;
                productCard.dataset.brand = product.brand;
                productCard.dataset.price = product.price;
                productCard.dataset.rating = product.rating;
                
                let badgeHtml = '';
                if (product.badge) {
                    badgeHtml = `<span class="product-badge">${product.badge}</span>`;
                }
                
                let originalPriceHtml = '';
                if (product.originalPrice) {
                    originalPriceHtml = `<span class="original-price">${product.originalPrice.toLocaleString()} ج.م</span>`;
                }
                
                productCard.innerHTML = `
                    ${badgeHtml}
                    <div class="product-image" style="background-image: url('${product.image}');">
                        <div class="product-quick-view" data-id="${product.id}">عرض سريع</div>
                    </div>
                    <div class="product-info">
                        <div class="product-brand">${product.brand}</div>
                        <h3>${product.name}</h3>
                        <div class="product-rating">
                            ${generateStars(product.rating)}
                            <span>(${product.reviews} تقييم)</span>
                        </div>
                        <div class="product-price">
                            <span class="current-price">${product.price.toLocaleString()} ج.م</span>
                            ${originalPriceHtml}
                        </div>
                        <div class="product-actions">
                            <button class="add-to-cart" data-id="${product.id}" data-name="${product.name}" data-price="${product.price}" data-image="${product.image}">أضف للسلة</button>
                            <button class="wishlist-btn" data-id="${product.id}" data-name="${product.name}" data-price="${product.price}" data-image="${product.image}">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="compare-btn" data-id="${product.id}" data-name="${product.name}" data-price="${product.price}" data-image="${product.image}">
                                <i class="fas fa-exchange-alt"></i>
                            </button>
                        </div>
                    </div>
                `;
                
                productsGrid.appendChild(productCard);
            });
            
            // Re-attach event listeners
            attachProductEventListeners();
        }
        
        function attachProductEventListeners() {
            // Quick view
            document.querySelectorAll('.product-quick-view').forEach(button => {
                button.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const productId = button.dataset.id;
                    openProductDetail(productId);
                });
            });
            
            // Add to cart
            document.querySelectorAll('.add-to-cart').forEach(button => {
                button.addEventListener('click', function() {
                    if (!currentUser) {
                        showNotification('info', 'تسجيل الدخول', 'يرجى تسجيل الدخول أولاً لإضافة المنتجات إلى السلة');
                        openLoginModal();
                        return;
                    }
                    
                    const productId = this.dataset.id;
                    const name = this.dataset.name;
                    const price = parseInt(this.dataset.price);
                    const image = this.dataset.image;
                    
                    const existingItem = cart.find(item => item.id === productId);
                    
                    if (existingItem) {
                        existingItem.quantity += 1;
                    } else {
                        cart.push({
                            id: productId,
                            name: name,
                            price: price,
                            image: image,
                            quantity: 1
                        });
                    }
                    
                    localStorage.setItem('cart', JSON.stringify(cart));
                    updateCartDisplay();
                    showAddedMessage(this);
                });
            });
            
            // Wishlist
            document.querySelectorAll('.wishlist-btn').forEach(button => {
                button.addEventListener('click', function() {
                    if (!currentUser) {
                        showNotification('info', 'تسجيل الدخول', 'يرجى تسجيل الدخول أولاً لإضافة المنتجات إلى المفضلة');
                        openLoginModal();
                        return;
                    }
                    
                    const productId = this.dataset.id;
                    const name = this.dataset.name;
                    const price = parseInt(this.dataset.price);
                    const image = this.dataset.image;
                    const icon = this.querySelector('i');
                    
                    const existingItem = wishlist.find(item => item.id === productId);
                    
                    if (existingItem) {
                        wishlist = wishlist.filter(item => item.id !== productId);
                        icon.classList.remove('fas');
                        icon.classList.add('far');
                        this.classList.remove('active');
                        showNotification('info', 'المفضلة', `تمت إزالة ${name} من المفضلة`);
                    } else {
                        wishlist.push({
                            id: productId,
                            name: name,
                            price: price,
                            image: image
                        });
                        icon.classList.remove('far');
                        icon.classList.add('fas');
                        this.classList.add('active');
                        showNotification('success', 'المفضلة', `تمت إضافة ${name} إلى المفضلة`);
                    }
                    
                    localStorage.setItem('wishlist', JSON.stringify(wishlist));
                    updateWishlistDisplay();
                    updateWishlistCount();
                });
            });
            
            // Compare
            document.querySelectorAll('.compare-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = this.dataset.id;
                    const name = this.dataset.name;
                    const price = parseInt(this.dataset.price);
                    const image = this.dataset.image;
                    
                    const existingItem = compareList.find(item => item.id === productId);
                    
                    if (existingItem) {
                        compareList = compareList.filter(item => item.id !== productId);
                        this.classList.remove('active');
                        showNotification('info', 'المقارنة', `تمت إزالة ${name} من قائمة المقارنة`);
                    } else {
                        if (compareList.length >= 3) {
                            showNotification('error', 'خطأ', 'يمكنك مقارنة 3 منتجات كحد أقصى');
                            return;
                        }
                        
                        compareList.push({
                            id: productId,
                            name: name,
                            price: price,
                            image: image
                        });
                        this.classList.add('active');
                        showNotification('success', 'المقارنة', `تمت إضافة ${name} إلى قائمة المقارنة`);
                    }
                    
                    updateCompareDisplay();
                });
            });
        }
        
        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    window.scrollTo({
                        top: target.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Initialize
        initUser();
        updateWishlistCount();
        displayProducts(products);
    </script>
</body>
</html>